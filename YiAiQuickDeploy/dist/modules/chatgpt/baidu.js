'use strict';function _0x1187(){const _0x49ced0=['&client_secret=','450363WAIqvs','catch','1460982pslhMB','keys','chatglm2_6b_32k','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','toString','application/json','end','20810rjhAZB','parse','filter','1528412UIlUJm','stream','data','sendMessageFromBaidu','getAccessToken','llama_2_7b','post','text','trim','1FwoTLW','bloomz_7b1','qianfan_chinese_llama_2_7b','replace','map','split','then','18xbyWqS','7746820IZHDOH','toLowerCase','llama_2_13b','4554328DWDtJP','1304023PNViLO','5LfKXMb','completions','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','completions_pro'];_0x1187=function(){return _0x49ced0;};return _0x1187();}function _0x2937(_0x236216,_0x4eaff3){const _0x118727=_0x1187();return _0x2937=function(_0x293743,_0x11f91c){_0x293743=_0x293743-0x1d6;let _0x563a13=_0x118727[_0x293743];return _0x563a13;},_0x2937(_0x236216,_0x4eaff3);}const _0x282371=_0x2937;(function(_0x167826,_0xaaa535){const _0x2da89a=_0x2937,_0x430b7f=_0x167826();while(!![]){try{const _0x1b1832=parseInt(_0x2da89a(0x1e5))/0x1*(parseInt(_0x2da89a(0x1d9))/0x2)+parseInt(_0x2da89a(0x1f7))/0x3+-parseInt(_0x2da89a(0x1dc))/0x4*(parseInt(_0x2da89a(0x1f2))/0x5)+-parseInt(_0x2da89a(0x1f9))/0x6+-parseInt(_0x2da89a(0x1f1))/0x7+-parseInt(_0x2da89a(0x1f0))/0x8+-parseInt(_0x2da89a(0x1ec))/0x9*(-parseInt(_0x2da89a(0x1ed))/0xa);if(_0x1b1832===_0xaaa535)break;else _0x430b7f['push'](_0x430b7f['shift']());}catch(_0x1798a6){_0x430b7f['push'](_0x430b7f['shift']());}}}(_0x1187,0x50406));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x282371(0x1df)]=exports[_0x282371(0x1e0)]=void 0x0;const axios=require('axios'),getApiModelMaps=()=>{const _0x4bcfc0=_0x282371;let _0x58e004={};const _0x6baced={'ERNIE-Bot':_0x4bcfc0(0x1f3),'ERNIE-Bot-turbo':'eb-instant','BLOOMZ-7B':_0x4bcfc0(0x1e6),'ERNIE-Bot-4':_0x4bcfc0(0x1f5),'Llama-2-7b-chat':_0x4bcfc0(0x1e1),'Llama-2-13b-chat':_0x4bcfc0(0x1ef),'ChatGLM2-6B-32K':_0x4bcfc0(0x1fb),'Qianfan-Chinese-Llama-2-7B':_0x4bcfc0(0x1e7)};return Object[_0x4bcfc0(0x1fa)](_0x6baced)[_0x4bcfc0(0x1e9)](_0x176668=>{const _0x1da69f=_0x4bcfc0;_0x58e004[''+_0x176668[_0x1da69f(0x1ee)]()]=_0x6baced[_0x176668];}),_0x58e004;};function getAccessToken(_0x495609,_0x1d72bf){const _0xcb55e0=_0x282371;let _0xf64dfc=_0xcb55e0(0x1f4)+_0x495609+_0xcb55e0(0x1f6)+_0x1d72bf;return new Promise((_0x13f92c,_0x25cc8a)=>{const _0x55a38=_0xcb55e0;axios[_0x55a38(0x1e2)](_0xf64dfc)[_0x55a38(0x1eb)](_0x906bc2=>{_0x13f92c(_0x906bc2['data']['access_token']);})[_0x55a38(0x1f8)](_0x25e73f=>{_0x25cc8a(_0x25e73f);});});}exports[_0x282371(0x1e0)]=getAccessToken;function sendMessageFromBaidu(_0x7c2eed,{onProgress:_0x53168b,accessToken:_0x410f46,model:_0x3a90f6,temperature:temperature=0.95}){const _0x75f171=_0x282371,_0x1da2d5=getApiModelMaps()[_0x3a90f6[_0x75f171(0x1e4)]()[_0x75f171(0x1ee)]()];return new Promise((_0x3a3d4c,_0x5179fb)=>{const _0x250402=_0x75f171,_0x5ccfca=_0x250402(0x1fc)+_0x1da2d5+'?access_token='+_0x410f46;var _0x47b5a0={'method':'POST','url':_0x5ccfca,'responseType':_0x250402(0x1dd),'headers':{'Content-Type':_0x250402(0x1d7)},'data':{'stream':!![],'messages':_0x7c2eed}};axios(_0x47b5a0)[_0x250402(0x1eb)](_0x15afba=>{const _0x3ba7c9=_0x250402,_0x309ecb=_0x15afba['data'];let _0x525d05={},_0x24426a='',_0x36c66c='';_0x309ecb['on'](_0x3ba7c9(0x1de),_0x54aad2=>{const _0x2188e4=_0x3ba7c9,_0x2c8b8e=_0x54aad2[_0x2188e4(0x1d6)]()[_0x2188e4(0x1ea)]('\x0a\x0a')[_0x2188e4(0x1db)](_0x1daa28=>_0x1daa28['trim']()!=='');for(const _0x3c99d3 of _0x2c8b8e){const _0x5b7bcf=_0x3c99d3[_0x2188e4(0x1e8)]('data:\x20','');try{const _0x27f073=_0x24426a+_0x5b7bcf,_0x499e9d=JSON[_0x2188e4(0x1da)](_0x27f073);_0x24426a='';const {is_end:_0x128f4c,result:_0x53743e}=_0x499e9d;_0x53743e&&(_0x36c66c+=_0x53743e),_0x128f4c&&(_0x525d05=_0x499e9d,_0x525d05[_0x2188e4(0x1e3)]=_0x36c66c),_0x53168b(_0x499e9d);}catch(_0x21bc36){_0x24426a=_0x5b7bcf;}}}),_0x309ecb['on'](_0x3ba7c9(0x1d8),()=>{_0x36c66c='',_0x24426a='',_0x3a3d4c(_0x525d05);});})[_0x250402(0x1f8)](_0x5803b1=>{_0x5179fb(new Error(_0x5803b1));});});}exports[_0x282371(0x1df)]=sendMessageFromBaidu;