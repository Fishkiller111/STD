'use strict';function _0x5721(){const _0x4d9d33=['completions','354779SqghpV','stream','12KxbJNf','toString','defineProperty','replace','parse','144RIiNUs','catch','&client_secret=','map','data','4670008kTLAYL','sendMessageFromBaidu','split','544478KkcNTU','toLowerCase','then','getAccessToken','filter','trim','__esModule','20jHVMIT','data:\x20','5362056YethbQ','bloomz_7b1','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','2dCyMhX','llama_2_7b','9HCAACM','3825525UToBIn','keys','application/json','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','1092424tPNqCZ','completions_pro','POST','13500190QamFUx','eb-instant','access_token','chatglm2_6b_32k'];_0x5721=function(){return _0x4d9d33;};return _0x5721();}const _0x18497b=_0x4e72;(function(_0x20f159,_0x6d323){const _0x40d6e8=_0x4e72,_0x19e036=_0x20f159();while(!![]){try{const _0x11020c=parseInt(_0x40d6e8(0x1d6))/0x1*(-parseInt(_0x40d6e8(0x1f1))/0x2)+-parseInt(_0x40d6e8(0x1f4))/0x3+-parseInt(_0x40d6e8(0x1f8))/0x4*(-parseInt(_0x40d6e8(0x1ec))/0x5)+parseInt(_0x40d6e8(0x1d8))/0x6*(-parseInt(_0x40d6e8(0x1e2))/0x7)+parseInt(_0x40d6e8(0x1ee))/0x8*(parseInt(_0x40d6e8(0x1f3))/0x9)+parseInt(_0x40d6e8(0x1d1))/0xa+-parseInt(_0x40d6e8(0x1e5))/0xb*(-parseInt(_0x40d6e8(0x1dd))/0xc);if(_0x11020c===_0x6d323)break;else _0x19e036['push'](_0x19e036['shift']());}catch(_0x4b50f3){_0x19e036['push'](_0x19e036['shift']());}}}(_0x5721,0xb5422));Object[_0x18497b(0x1da)](exports,_0x18497b(0x1eb),{'value':!![]}),exports[_0x18497b(0x1e3)]=exports['getAccessToken']=void 0x0;function _0x4e72(_0x9a1911,_0x5e9ae5){const _0x5721d0=_0x5721();return _0x4e72=function(_0x4e727b,_0x2a2307){_0x4e727b=_0x4e727b-0x1d0;let _0x5dd8b7=_0x5721d0[_0x4e727b];return _0x5dd8b7;},_0x4e72(_0x9a1911,_0x5e9ae5);}const axios=require('axios'),getApiModelMaps=()=>{const _0x3c6f5f=_0x18497b;let _0x1decdd={};const _0xb28c76={'ERNIE-Bot':_0x3c6f5f(0x1d5),'ERNIE-Bot-turbo':_0x3c6f5f(0x1d2),'BLOOMZ-7B':_0x3c6f5f(0x1ef),'ERNIE-Bot-4':_0x3c6f5f(0x1f9),'Llama-2-7b-chat':_0x3c6f5f(0x1f2),'Llama-2-13b-chat':'llama_2_13b','ChatGLM2-6B-32K':_0x3c6f5f(0x1d4),'Qianfan-Chinese-Llama-2-7B':'qianfan_chinese_llama_2_7b'};return Object[_0x3c6f5f(0x1f5)](_0xb28c76)[_0x3c6f5f(0x1e0)](_0x3303d4=>{const _0x37c461=_0x3c6f5f;_0x1decdd[''+_0x3303d4[_0x37c461(0x1e6)]()]=_0xb28c76[_0x3303d4];}),_0x1decdd;};function getAccessToken(_0x35d247,_0x268526){const _0x420e51=_0x18497b;let _0x1aa6a4=_0x420e51(0x1f7)+_0x35d247+_0x420e51(0x1df)+_0x268526;return new Promise((_0x514e48,_0x423d02)=>{const _0x353939=_0x420e51;axios['post'](_0x1aa6a4)['then'](_0x189c4c=>{const _0x4f2279=_0x4e72;_0x514e48(_0x189c4c[_0x4f2279(0x1e1)][_0x4f2279(0x1d3)]);})[_0x353939(0x1de)](_0x3b9500=>{_0x423d02(_0x3b9500);});});}exports[_0x18497b(0x1e8)]=getAccessToken;function sendMessageFromBaidu(_0x6aa0ec,{onProgress:_0x2cf7f3,accessToken:_0x3de9d1,model:_0x19c600,temperature:temperature=0.95}){const _0x21a63d=_0x18497b,_0x1a3ce3=getApiModelMaps()[_0x19c600[_0x21a63d(0x1ea)]()[_0x21a63d(0x1e6)]()];return new Promise((_0x4c915d,_0x59d5bd)=>{const _0x12b1d5=_0x21a63d,_0x5aed15=_0x12b1d5(0x1f0)+_0x1a3ce3+'?access_token='+_0x3de9d1;var _0x3c4069={'method':_0x12b1d5(0x1d0),'url':_0x5aed15,'responseType':_0x12b1d5(0x1d7),'headers':{'Content-Type':_0x12b1d5(0x1f6)},'data':{'stream':!![],'messages':_0x6aa0ec}};axios(_0x3c4069)[_0x12b1d5(0x1e7)](_0x184204=>{const _0x2d9926=_0x12b1d5,_0xdc101=_0x184204[_0x2d9926(0x1e1)];let _0x2d40c8={},_0x3bc2d9='',_0x45604a='';_0xdc101['on'](_0x2d9926(0x1e1),_0x2cdef0=>{const _0xa84eb=_0x2d9926,_0x531b5f=_0x2cdef0[_0xa84eb(0x1d9)]()[_0xa84eb(0x1e4)]('\x0a\x0a')[_0xa84eb(0x1e9)](_0x308dde=>_0x308dde[_0xa84eb(0x1ea)]()!=='');for(const _0x10b48a of _0x531b5f){const _0x1b052c=_0x10b48a[_0xa84eb(0x1db)](_0xa84eb(0x1ed),'');try{const _0x2fd4f9=_0x3bc2d9+_0x1b052c,_0x46725a=JSON[_0xa84eb(0x1dc)](_0x2fd4f9);_0x3bc2d9='';const {is_end:_0x1cd871,result:_0x297f31}=_0x46725a;_0x297f31&&(_0x45604a+=_0x297f31),_0x1cd871&&(_0x2d40c8=_0x46725a,_0x2d40c8['text']=_0x45604a),_0x2cf7f3(_0x46725a);}catch(_0x1f836b){_0x3bc2d9=_0x1b052c;}}}),_0xdc101['on']('end',()=>{_0x45604a='',_0x3bc2d9='',_0x4c915d(_0x2d40c8);});})[_0x12b1d5(0x1de)](_0x2db6dd=>{_0x59d5bd(new Error(_0x2db6dd));});});}exports[_0x18497b(0x1e3)]=sendMessageFromBaidu;