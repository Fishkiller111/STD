'use strict';function _0x1d4a(){const _0x19d96b=['UserCenter','menuPath','/mind','function','solar:album-line-duotone','__esModule','对话聊天','updateIcon','__metadata','766430rZtXpv','43932uXucAO','menuIframeUrl','缺失必要参数!','menuListFront','Injectable','13778792oTpXHv','setMenu','InjectRepository','@nestjs/common','__decorate','eos-icons:typing','Pay','save','initMenu','fluent:draw-image-24-regular','Mind','8jKmGeJ','HttpStatus','HttpException','getOwnPropertyDescriptor','affected','专业绘画','99nsorCV','Chat','defineProperty','icon-park-outline:shopping','typeorm','12374873EatSxQ','update','应用广场','menuPlatform','4642iVgLQA','/app-store','length','findOne','Draw','ASC','BAD_REQUEST','116CyTYPS','/midjourney','/pay','/market','思维导图','count','visibleMenu','metadata','icon-park-outline:mindmap-map','ant-design:appstore-outlined','ri:landscape-line','绘画广场','推广计划','./menu.entity','queryMenu','AppStore','356493FQXSsG','80787PKyLVE','基础绘画','__param','find','menuEntity','delMenu','decorate','Market','ri:account-pin-box-line','design:paramtypes','/chat','/share','Repository','/user-center','个人中心','MenuService','onModuleInit','4135YijHjL','6618HJZKpr','object','isSystem','Midjourney'];_0x1d4a=function(){return _0x19d96b;};return _0x1d4a();}const _0x772ce7=_0x3ef5;function _0x3ef5(_0x56da46,_0x2a963a){const _0x1d4a3d=_0x1d4a();return _0x3ef5=function(_0x3ef54a,_0x526d4b){_0x3ef54a=_0x3ef54a-0xe8;let _0x2a9007=_0x1d4a3d[_0x3ef54a];return _0x2a9007;},_0x3ef5(_0x56da46,_0x2a963a);}(function(_0x30e313,_0x1980ec){const _0x1c674d=_0x3ef5,_0x5efbf4=_0x30e313();while(!![]){try{const _0x5e8a1f=-parseInt(_0x1c674d(0x10a))/0x1*(-parseInt(_0x1c674d(0x13b))/0x2)+parseInt(_0x1c674d(0x10b))/0x3*(-parseInt(_0x1c674d(0xfa))/0x4)+parseInt(_0x1c674d(0x11c))/0x5*(parseInt(_0x1c674d(0x11d))/0x6)+parseInt(_0x1c674d(0xef))/0x7+-parseInt(_0x1c674d(0x130))/0x8+-parseInt(_0x1c674d(0xea))/0x9*(-parseInt(_0x1c674d(0x12a))/0xa)+parseInt(_0x1c674d(0xf3))/0xb*(-parseInt(_0x1c674d(0x12b))/0xc);if(_0x5e8a1f===_0x1980ec)break;else _0x5efbf4['push'](_0x5efbf4['shift']());}catch(_0x48828c){_0x5efbf4['push'](_0x5efbf4['shift']());}}}(_0x1d4a,0xdbee1));var __decorate=this&&this[_0x772ce7(0x134)]||function(_0x565c26,_0x596ae9,_0x3f1516,_0x578a00){const _0x64d0fc=_0x772ce7;var _0x4e3c15=arguments[_0x64d0fc(0xf5)],_0x13fa82=_0x4e3c15<0x3?_0x596ae9:_0x578a00===null?_0x578a00=Object[_0x64d0fc(0x13e)](_0x596ae9,_0x3f1516):_0x578a00,_0x3b8d77;if(typeof Reflect===_0x64d0fc(0x11e)&&typeof Reflect['decorate']===_0x64d0fc(0x124))_0x13fa82=Reflect[_0x64d0fc(0x111)](_0x565c26,_0x596ae9,_0x3f1516,_0x578a00);else{for(var _0x10ff5d=_0x565c26['length']-0x1;_0x10ff5d>=0x0;_0x10ff5d--)if(_0x3b8d77=_0x565c26[_0x10ff5d])_0x13fa82=(_0x4e3c15<0x3?_0x3b8d77(_0x13fa82):_0x4e3c15>0x3?_0x3b8d77(_0x596ae9,_0x3f1516,_0x13fa82):_0x3b8d77(_0x596ae9,_0x3f1516))||_0x13fa82;}return _0x4e3c15>0x3&&_0x13fa82&&Object['defineProperty'](_0x596ae9,_0x3f1516,_0x13fa82),_0x13fa82;},__metadata=this&&this[_0x772ce7(0x129)]||function(_0x2f1a73,_0x396794){const _0x5f1fac=_0x772ce7;if(typeof Reflect===_0x5f1fac(0x11e)&&typeof Reflect['metadata']===_0x5f1fac(0x124))return Reflect[_0x5f1fac(0x101)](_0x2f1a73,_0x396794);},__param=this&&this[_0x772ce7(0x10d)]||function(_0x3bf554,_0x424a9f){return function(_0x1242c9,_0x2871a9){_0x424a9f(_0x1242c9,_0x2871a9,_0x3bf554);};};Object[_0x772ce7(0xec)](exports,_0x772ce7(0x126),{'value':!![]}),exports[_0x772ce7(0x11a)]=void 0x0;const common_1=require(_0x772ce7(0x133)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x772ce7(0xee)),menu_entity_1=require(_0x772ce7(0x107));let MenuService=class MenuService{constructor(_0x4a31a4){this['menuEntity']=_0x4a31a4;}async[_0x772ce7(0x11b)](){const _0x31ce93=_0x772ce7;await this[_0x31ce93(0x138)]();}async[_0x772ce7(0x138)](){const _0x94ea18=_0x772ce7,_0x57fc68=await this[_0x94ea18(0x10f)][_0x94ea18(0xff)]();if(_0x57fc68>0x0)return;const _0x334153=[{'menuTipText':_0x94ea18(0x127),'menuIcon':_0x94ea18(0x135),'menuName':'Chat','menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x94ea18(0xf1),'menuIcon':'ant-design:appstore-outlined','menuName':_0x94ea18(0x109),'menuPath':_0x94ea18(0xf4),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0x94ea18(0xe9),'menuIcon':_0x94ea18(0x104),'menuName':_0x94ea18(0x120),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0x94ea18(0x105),'menuIcon':_0x94ea18(0x125),'menuName':_0x94ea18(0x112),'menuPath':_0x94ea18(0xfd),'menuType':0x0,'menuPlatform':0x1,'order':0x190},{'menuTipText':_0x94ea18(0x10c),'menuIcon':_0x94ea18(0x139),'menuName':_0x94ea18(0xf7),'menuPath':'/draw','menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':_0x94ea18(0xfe),'menuIcon':_0x94ea18(0x102),'menuName':_0x94ea18(0x13a),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':'会员中心','menuIcon':_0x94ea18(0xed),'menuName':_0x94ea18(0x136),'menuPath':_0x94ea18(0xfc),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x94ea18(0x106),'menuIcon':'uiw:share','menuName':'Share','menuPath':_0x94ea18(0x116),'menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0xf77c16=[{'menuTipText':_0x94ea18(0x127),'menuIcon':_0x94ea18(0x135),'menuName':_0x94ea18(0xeb),'menuPath':_0x94ea18(0x115),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':_0x94ea18(0xf1),'menuIcon':_0x94ea18(0x103),'menuName':_0x94ea18(0x109),'menuPath':_0x94ea18(0xf4),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'专业绘画','menuIcon':_0x94ea18(0x104),'menuName':_0x94ea18(0x120),'menuPath':_0x94ea18(0xfb),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x94ea18(0xfe),'menuIcon':_0x94ea18(0x102),'menuName':'Mind','menuPath':_0x94ea18(0x123),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':_0x94ea18(0x119),'menuIcon':_0x94ea18(0x113),'menuName':_0x94ea18(0x121),'menuPath':_0x94ea18(0x118),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x3ebf6a=[..._0x334153,..._0xf77c16];await this['menuEntity']['save'](_0x3ebf6a);}async[_0x772ce7(0x108)](_0x3abfac){const _0x4fb13c=_0x772ce7,{menuPlatform:_0x2d05c8}=_0x3abfac,_0xb02eb0={};return _0x2d05c8&&(_0xb02eb0['menuPlatform']=_0x2d05c8),await this[_0x4fb13c(0x10f)][_0x4fb13c(0x10e)]({'where':_0xb02eb0,'order':{'order':_0x4fb13c(0xf8)}});}async[_0x772ce7(0x12e)](_0x2445b3){const _0x278726=_0x772ce7,{menuPlatform:_0x53d081}=_0x2445b3,_0x15f58a={'isShow':!![]};return _0x53d081&&(_0x15f58a[_0x278726(0xf2)]=_0x53d081),await this['menuEntity'][_0x278726(0x10e)]({'where':_0x15f58a,'order':{'order':'ASC'}});}async[_0x772ce7(0x100)](_0x3bc15d){const _0x40e950=_0x772ce7,{id:_0x568b59}=_0x3bc15d;if(!_0x568b59)return;const _0x403b41=await this['menuEntity'][_0x40e950(0xf6)]({'where':{'id':_0x568b59}});if(!_0x403b41)return;const {isShow:_0xc8daf9}=_0x403b41,_0x211b42=await this[_0x40e950(0x10f)][_0x40e950(0xf0)]({'id':_0x568b59},{'isShow':!_0xc8daf9});return _0x211b42[_0x40e950(0xe8)]>0x0;}async[_0x772ce7(0x131)](_0x2dc4bc){const _0x49367e=_0x772ce7,{id:_0x4b9876}=_0x2dc4bc;_0x2dc4bc[_0x49367e(0x11f)]?_0x2dc4bc[_0x49367e(0x122)]='':_0x2dc4bc[_0x49367e(0x12c)]='';delete _0x2dc4bc[_0x49367e(0x11f)];try{if(_0x4b9876){const _0x3402d1=await this[_0x49367e(0x10f)]['update']({'id':_0x4b9876},_0x2dc4bc);return _0x3402d1[_0x49367e(0xe8)]>0x0;}else{const _0xd57c3f=await this[_0x49367e(0x10f)][_0x49367e(0x137)](_0x2dc4bc);return _0xd57c3f;}}catch(_0x165e61){throw new common_1[(_0x49367e(0x13d))]('操作菜单失败!',common_1['HttpStatus'][_0x49367e(0xf9)]);}}async[_0x772ce7(0x110)](_0x2d2830){const _0x79fd2c=_0x772ce7,{id:_0x2d6a77}=_0x2d2830;if(!_0x2d6a77)throw new common_1[(_0x79fd2c(0x13d))](_0x79fd2c(0x12d),common_1[_0x79fd2c(0x13c)][_0x79fd2c(0xf9)]);const _0x2ef7ed=await this[_0x79fd2c(0x10f)]['delete']({'id':_0x2d6a77});return _0x2ef7ed;}async[_0x772ce7(0x128)](_0x1037b7){const _0x43ac88=_0x772ce7,{id:_0x2e0697,menuIcon:_0x511a23,menuTipText:_0x47e42b,order:_0x34ac41}=_0x1037b7;if(!_0x2e0697||!_0x511a23||!_0x47e42b||!_0x34ac41)throw new common_1[(_0x43ac88(0x13d))]('缺失必要参数!',common_1[_0x43ac88(0x13c)][_0x43ac88(0xf9)]);const _0x5e706b=await this[_0x43ac88(0x10f)]['update']({'id':_0x2e0697},{'menuIcon':_0x511a23,'menuTipText':_0x47e42b,'order':_0x34ac41});return _0x5e706b[_0x43ac88(0xe8)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x772ce7(0x12f)])(),__param(0x0,(0x0,typeorm_1[_0x772ce7(0x132)])(menu_entity_1['MenuEntity'])),__metadata(_0x772ce7(0x114),[typeorm_2[_0x772ce7(0x117)]])],MenuService),exports[_0x772ce7(0x11a)]=MenuService;