'use strict';const _0x48055d=_0xd65c;function _0xd65c(_0x4063c8,_0x1fc2f6){const _0xe5f366=_0xe5f3();return _0xd65c=function(_0xd65c97,_0xd0a597){_0xd65c97=_0xd65c97-0xd9;let _0x2212d5=_0xe5f366[_0xd65c97];return _0x2212d5;},_0xd65c(_0x4063c8,_0x1fc2f6);}function _0xe5f3(){const _0x3c7e6d=['post','75710kEVsFJ','aliPhoneAccessKeySecret','wechatSilentLoginStatus','application/json','@nestjs/common','salesAllowDrawMoney','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','firstRegisterSendStatus','configEntity','initGetAllConfig','default','payEpayStatus','NINEAI','filingNumber','every','手机验证码功能暂未开放!','mjProxyImgUrl','invitedGuestSendModel3Count','gpt','baiduTextApiKey','getAuthInfo','noticeTitle','hideString','ChatLogEntity','firstRregisterSendModel3Count','getSensitiveConfig','isUseWxLogin','phoneLoginStatus','payWechatStatus','nineAiToken','response','queryGptKeys','buyCramiAddress','readFileSync','baiduTextSecretKey','__param','../chatLog/chatLog.entity','wechat\x20refresh\x20access_token\x20\x20==>\x20','getConfigs','createOrUpdate','package.json','reduce','queryConfig','map','emailLoginStatus','configVal','fetchJsapiTicket','baidu','payMpayChannel','clientLogoPath','获取微信access_token失败、错误信息：','appMenuHeaderBgUrl','aliPhoneAccessKeyId','data','516220JRKiXs','https://api.jiangly.com/api/permission/auth','openaiBaseUrl','GlobalConfigService','length','isVerifyEmail','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','domain','inviteGiveSendModel4Count','signInModel4Count','payHupiStatus','defineProperty','mjHideNotBlock','HttpException','getDiffArray','includes','robotAvatar','assign','axios','signInStatus','emailRegisterStatus','242137URHSWc','aliPhoneSignName','baiduTextAccessToken','filter','getPhoneVerifyConfig','payMpayStatus','mindDefaultData','hupi','utf-8','vxNumber','ConfigEntity','find','wechatOfficialAppId','@nestjs/typeorm','__decorate','ticket','globalConfigs','get','save','https://aip.baidubce.com/oauth/2.0/token?client_id=','phoneRegisterStatus','super','InjectRepository','design:paramtypes','error:\x20','payEpayApiPayUrl','metadata','firstRregisterSendModel4Count','wechatOfficialAppSecret','1104PJoPZs','copyrightUrl','clientHomePath','decorate','\x20current\x20use\x20version\x20in\x20------>:\x20','Like','auth','wechatRegisterStatus','chatGptKey','access_token','1260834dAuWqF','&grant_type=client_credentials','118398tTaZOh','getOwnPropertyDescriptor','15389cayLvv','getSignatureGiftConfig','115occDMN','findOne','pay','OfficialService','mjHideWorkIn','noticeInfo','setConfig','function','支付功能暂未开放!','env','invitedGuestSendModel4Count','Logger','nineai','parse','inviteSendStatus','initBaiduSensitive','log','设置完成！','nineaiBuiltInSensitiveAuthKey','558kXYmWY','payEpayChannel','设置配置信息错误！','nineaiBuiltInSensitiveApiBase','getNineAiToken','registerSendModel4Count','copyrightTitle','ali','ISDEV','registerSendModel3Count','inviteGiveSendModel3Count','setGptKeys','mpay','./config.entity','user','ModelsService','请按要求填写正确的授权信息','queryPayType','modelsService','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','42YlExio','chatLogEntity','20804SigGYj','wechat','HttpStatus','signInMjDrawToken','64fVSJDz','signInModel3Count','&secret=','chatGptKey:','MjdrawCount','TRUE','__metadata','clientFavoIconPath','firstRregisterSendDrawMjCount','Repository','error','siteName','baiduTextStatus','registerSendStatus','epay','isShowAppCatIcon','感谢您使用NineAi、祝您使用愉快~','queryAllConfig','delete','wechatJsapiTicket','../../common/utils','wechatAccessToken','json','Injectable','getWechatAccessToken','缺失ip信息','queryFrontConfig','update','BAD_REQUEST','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','salesBaseRatio','fetchBaseAccessToken','Status','error_description','tencent','firstRegisterSendRank','操作完成！','configKey','companyName','inviteGiveSendDrawMjCount','__esModule'];_0xe5f3=function(){return _0x3c7e6d;};return _0xe5f3();}(function(_0x3c2d9a,_0x372c49){const _0x5ba145=_0xd65c,_0x3c9a9a=_0x3c2d9a();while(!![]){try{const _0x90cf2d=-parseInt(_0x5ba145(0x15d))/0x1*(-parseInt(_0x5ba145(0x15f))/0x2)+-parseInt(_0x5ba145(0x130))/0x3+parseInt(_0x5ba145(0xf4))/0x4+-parseInt(_0x5ba145(0x136))/0x5*(parseInt(_0x5ba145(0x132))/0x6)+parseInt(_0x5ba145(0x109))/0x7*(parseInt(_0x5ba145(0x163))/0x8)+-parseInt(_0x5ba145(0x149))/0x9*(-parseInt(_0x5ba145(0x18d))/0xa)+-parseInt(_0x5ba145(0x134))/0xb*(parseInt(_0x5ba145(0x126))/0xc);if(_0x90cf2d===_0x372c49)break;else _0x3c9a9a['push'](_0x3c9a9a['shift']());}catch(_0x2653d8){_0x3c9a9a['push'](_0x3c9a9a['shift']());}}}(_0xe5f3,0x4b7e8));var __decorate=this&&this[_0x48055d(0x117)]||function(_0x1d0cfa,_0x276da2,_0x456b53,_0x83dbba){const _0x33681a=_0x48055d;var _0x53bc57=arguments[_0x33681a(0xf8)],_0x5adf58=_0x53bc57<0x3?_0x276da2:_0x83dbba===null?_0x83dbba=Object[_0x33681a(0x133)](_0x276da2,_0x456b53):_0x83dbba,_0x4b03c4;if(typeof Reflect==='object'&&typeof Reflect[_0x33681a(0x129)]===_0x33681a(0x13d))_0x5adf58=Reflect['decorate'](_0x1d0cfa,_0x276da2,_0x456b53,_0x83dbba);else{for(var _0x290739=_0x1d0cfa['length']-0x1;_0x290739>=0x0;_0x290739--)if(_0x4b03c4=_0x1d0cfa[_0x290739])_0x5adf58=(_0x53bc57<0x3?_0x4b03c4(_0x5adf58):_0x53bc57>0x3?_0x4b03c4(_0x276da2,_0x456b53,_0x5adf58):_0x4b03c4(_0x276da2,_0x456b53))||_0x5adf58;}return _0x53bc57>0x3&&_0x5adf58&&Object[_0x33681a(0xff)](_0x276da2,_0x456b53,_0x5adf58),_0x5adf58;},__metadata=this&&this[_0x48055d(0x169)]||function(_0x4040df,_0x1cb480){const _0x42e9b1=_0x48055d;if(typeof Reflect==='object'&&typeof Reflect[_0x42e9b1(0x123)]===_0x42e9b1(0x13d))return Reflect['metadata'](_0x4040df,_0x1cb480);},__param=this&&this[_0x48055d(0xe1)]||function(_0x22fdd5,_0x3afbd7){return function(_0x12ae0d,_0x27bac6){_0x3afbd7(_0x12ae0d,_0x27bac6,_0x22fdd5);};};Object['defineProperty'](exports,_0x48055d(0x18b),{'value':!![]}),exports[_0x48055d(0xf7)]=void 0x0;const models_service_1=require('../models/models.service'),chatLog_entity_1=require(_0x48055d(0xe2)),common_1=require(_0x48055d(0x191)),config_entity_1=require(_0x48055d(0x156)),typeorm_1=require(_0x48055d(0x116)),typeorm_2=require('typeorm'),utils_1=require(_0x48055d(0x177)),axios_1=require(_0x48055d(0x106)),fs=require('fs'),packageJsonContent=fs[_0x48055d(0xdf)](_0x48055d(0xe6),_0x48055d(0x111)),packageJson=JSON[_0x48055d(0x143)](packageJsonContent),version=packageJson['version'];console[_0x48055d(0x146)](_0x48055d(0x12a),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x474d6f,_0x4975ef,_0x1660ee){const _0x21757c=_0x48055d;this['configEntity']=_0x474d6f,this[_0x21757c(0x15e)]=_0x4975ef,this[_0x21757c(0x15b)]=_0x1660ee,this[_0x21757c(0x119)]={},this[_0x21757c(0xdb)]=!![];}async['onModuleInit'](){await this['initGetAllConfig']();}async[_0x48055d(0xe4)](_0x4479d4){const _0x49204b=_0x48055d;if(_0x4479d4[_0x49204b(0xf8)]===0x0)return;if(_0x4479d4['includes'](_0x49204b(0x178))&&_0x4479d4[_0x49204b(0xf8)]===0x1)return this[_0x49204b(0x178)];if(_0x4479d4[_0x49204b(0x103)](_0x49204b(0x176))&&_0x4479d4[_0x49204b(0xf8)]===0x1)return this['wechatJsapiTicket'];if(_0x4479d4[_0x49204b(0xf8)]===0x1)return this[_0x49204b(0x119)][_0x4479d4[0x0]];else{const _0x1e6cc3={};return _0x4479d4['forEach'](_0x1511c8=>_0x1e6cc3[_0x1511c8]=this[_0x49204b(0x119)][_0x1511c8]),_0x1e6cc3;}}async[_0x48055d(0x196)](){const _0x2c1fa3=_0x48055d,_0x299714=await this['configEntity'][_0x2c1fa3(0x114)]();this[_0x2c1fa3(0x119)]=_0x299714[_0x2c1fa3(0xe7)]((_0x204b9b,_0x1dd173)=>{const _0x1f662a=_0x2c1fa3;return _0x204b9b[_0x1dd173[_0x1f662a(0x188)]]=_0x1dd173[_0x1f662a(0xeb)],_0x204b9b;},{}),this['initBaiduSensitive']();}async[_0x48055d(0x145)](_0x45262d=!![]){const _0x1af575=_0x48055d,{baiduTextApiKey:_0x9dc253,baiduTextSecretKey:_0x7622b9}=await this[_0x1af575(0xe4)]([_0x1af575(0x1a0),_0x1af575(0xe0)]);if(!_0x9dc253||!_0x7622b9){common_1[_0x1af575(0x141)]['error'](_0x1af575(0xfa),_0x1af575(0xf7));return;}const _0x12b9f5={'Content-Type':_0x1af575(0x190),'Accept':'application/json'},_0xb2b7df=_0x1af575(0x11c)+_0x9dc253+'&client_secret='+_0x7622b9+_0x1af575(0x131);try{const _0x1155a8=await axios_1['default'][_0x1af575(0x18c)](_0xb2b7df,{'headers':_0x12b9f5});this[_0x1af575(0x119)][_0x1af575(0x10b)]=_0x1155a8[_0x1af575(0xf3)][_0x1af575(0x12f)];}catch(_0x1d8b96){if(_0x45262d)common_1[_0x1af575(0x141)][_0x1af575(0x16d)]('百度敏感词配置检测失败，您的参数可能配置的不正确!',_0x1af575(0xf7));else throw new common_1['HttpException'](_0x1d8b96[_0x1af575(0xdc)][_0x1af575(0xf3)][_0x1af575(0x184)],common_1[_0x1af575(0x161)][_0x1af575(0x17f)]);}}async[_0x48055d(0x17b)](_0x293c0a=![]){const _0x4514d6=_0x48055d,{wechatOfficialAppId:_0x2c8638,wechatOfficialAppSecret:_0x198082}=await this[_0x4514d6(0xe4)]([_0x4514d6(0x115),_0x4514d6(0x125)]);if(!_0x2c8638||!_0x198082)return common_1['Logger'][_0x4514d6(0x16d)](_0x4514d6(0x15c),_0x4514d6(0x139));this[_0x4514d6(0x178)]=await this['fetchBaseAccessToken'](_0x2c8638,_0x198082,_0x293c0a),this[_0x4514d6(0x176)]=await this[_0x4514d6(0xec)](this[_0x4514d6(0x178)]),common_1[_0x4514d6(0x141)][_0x4514d6(0x146)](_0x4514d6(0xe3)+this[_0x4514d6(0x178)],'OfficialService');}async[_0x48055d(0x182)](_0x7725d8,_0x7eaf1b,_0x576fa3=![]){const _0x110a1e=_0x48055d;if(process[_0x110a1e(0x13f)]['ISDEV']===_0x110a1e(0x168)){this[_0x110a1e(0x178)]='';return;}const {data:{errmsg:_0x1a7a8c,access_token:_0x36f4be}}=await axios_1[_0x110a1e(0x197)][_0x110a1e(0x11a)](_0x110a1e(0x180)+_0x7725d8+_0x110a1e(0x165)+_0x7eaf1b);if(_0x1a7a8c){if(_0x576fa3)common_1[_0x110a1e(0x141)][_0x110a1e(0x16d)](_0x110a1e(0xf0)+_0x1a7a8c,_0x110a1e(0x139));else throw new common_1[(_0x110a1e(0x101))]('请配置正确的秘钥、当前秘钥检测不通过！',common_1[_0x110a1e(0x161)][_0x110a1e(0x17f)]);return'';}return _0x36f4be;}async[_0x48055d(0xec)](_0x37e44f){const _0x4445dd=_0x48055d;var _0x5baff4;if(process[_0x4445dd(0x13f)][_0x4445dd(0x151)]===_0x4445dd(0x168)){this[_0x4445dd(0x176)]='';return;}const _0x5b14b4=await axios_1[_0x4445dd(0x197)][_0x4445dd(0x11a)](_0x4445dd(0x193)+_0x37e44f+'&type=jsapi');return(_0x5baff4=_0x5b14b4===null||_0x5b14b4===void 0x0?void 0x0:_0x5b14b4['data'])===null||_0x5baff4===void 0x0?void 0x0:_0x5baff4[_0x4445dd(0x118)];}async[_0x48055d(0x174)](_0x2f07bd){const _0x1f72af=_0x48055d,{role:_0x45d84d}=_0x2f07bd[_0x1f72af(0x157)];return this[_0x1f72af(0x119)];}async[_0x48055d(0x17d)](_0x1316e7,_0x51cc12){const _0x35fa69=_0x48055d,_0x269ff5=[_0x35fa69(0x112),_0x35fa69(0x170),_0x35fa69(0x152),_0x35fa69(0x14e),'registerSendDrawMjCount',_0x35fa69(0x194),_0x35fa69(0x186),_0x35fa69(0x1a5),_0x35fa69(0x124),_0x35fa69(0x16b),_0x35fa69(0x144),_0x35fa69(0x153),_0x35fa69(0xfc),_0x35fa69(0x18a),_0x35fa69(0x19e),_0x35fa69(0x140),'invitedGuestSendDrawMjCount',_0x35fa69(0x128),_0x35fa69(0xef),_0x35fa69(0x16a),_0x35fa69(0x1a7),_0x35fa69(0x16e),_0x35fa69(0x104),'siteRobotName',_0x35fa69(0xde),_0x35fa69(0x10f),'baiduCode',_0x35fa69(0x14a),_0x35fa69(0xee),_0x35fa69(0x122),_0x35fa69(0x198),_0x35fa69(0xfe),'payWechatStatus',_0x35fa69(0x10e),'isAutoOpenNotice',_0x35fa69(0x172),_0x35fa69(0x181),'salesSeniorRatio',_0x35fa69(0x192),_0x35fa69(0x189),_0x35fa69(0x19a),_0x35fa69(0x11d),_0x35fa69(0x108),_0x35fa69(0xea),_0x35fa69(0xd9),_0x35fa69(0x12d),_0x35fa69(0x18f),_0x35fa69(0x107),_0x35fa69(0x164),_0x35fa69(0xfd),_0x35fa69(0x162),'appMenuHeaderTips',_0x35fa69(0xf1),'mjUseBaiduFy',_0x35fa69(0x100),_0x35fa69(0x13a),_0x35fa69(0xf9)],_0x3da7e0=await this[_0x35fa69(0x195)][_0x35fa69(0x114)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x269ff5)}}),{domain:_0x36d2ef}=_0x1316e7,_0x3c4ace=this[_0x35fa69(0x119)]['domain'];_0x3c4ace!==_0x36d2ef&&(this[_0x35fa69(0xe5)]({'configKey':_0x35fa69(0xfb),'configVal':_0x36d2ef,'status':0x1}),await this[_0x35fa69(0x196)]());const _0x3bb540=_0x3da7e0[_0x35fa69(0xe7)]((_0x18cc28,_0xaa2ef)=>{const _0x4a6abd=_0x35fa69;return _0x18cc28[_0xaa2ef[_0x4a6abd(0x188)]]=_0xaa2ef[_0x4a6abd(0xeb)],_0x18cc28;},{}),{wechatOfficialAppId:_0x244489,wechatOfficialAppSecret:_0x19d39c}=await this[_0x35fa69(0xe4)]([_0x35fa69(0x115),_0x35fa69(0x125)]),_0xe46293=!!(_0x244489&&_0x19d39c);return Object[_0x35fa69(0x105)](Object[_0x35fa69(0x105)]({},_0x3bb540),{'isUseWxLogin':_0xe46293});}async[_0x48055d(0xdd)](_0x56eaa0){const _0x2f0339=_0x48055d,{role:_0x26858b}=_0x56eaa0[_0x2f0339(0x157)],_0x43f7d2=await this[_0x2f0339(0x195)]['find']({'where':{'configKey':(0x0,typeorm_2[_0x2f0339(0x12b)])('%'+'chatGptKey'+'%')}});if(_0x26858b==='super')return _0x43f7d2;return _0x43f7d2[_0x2f0339(0xe9)](_0x53e60f=>{const _0x22520e=_0x2f0339;return _0x53e60f[_0x22520e(0xeb)]=(0x0,utils_1[_0x22520e(0x1a3)])(_0x53e60f[_0x22520e(0xeb)]),_0x53e60f;});}async[_0x48055d(0x154)](_0x1d0322){const _0x5ea8c1=_0x48055d,_0x22a982=_0x1d0322['configs'][_0x5ea8c1(0x10c)](_0x181bed=>_0x181bed[_0x5ea8c1(0xeb)]),_0x19facc=_0x22a982[_0x5ea8c1(0xe9)](_0x183985=>_0x183985[_0x5ea8c1(0x188)]);for(const [_0x3e91bc,_0x34b5f8]of _0x22a982['entries']()){const {configKey:_0x1ab85e,configVal:_0x20bcfd,status:_0x4fdccd}=_0x34b5f8;await this[_0x5ea8c1(0xe5)]({'configKey':_0x5ea8c1(0x166)+(_0x3e91bc+0x1),'configVal':_0x20bcfd,'status':_0x4fdccd});}const _0x5b9605=await this[_0x5ea8c1(0x195)][_0x5ea8c1(0x114)]({'where':{'configKey':(0x0,typeorm_2[_0x5ea8c1(0x12b)])('%'+_0x5ea8c1(0x12e)+'%')}}),_0x8052b=_0x5b9605[_0x5ea8c1(0xe9)](_0x25b26b=>_0x25b26b[_0x5ea8c1(0x188)]);if(_0x8052b[_0x5ea8c1(0xf8)]>_0x19facc[_0x5ea8c1(0xf8)]){const _0x206532=(0x0,utils_1[_0x5ea8c1(0x102)])(_0x8052b[_0x5ea8c1(0xf8)],_0x19facc[_0x5ea8c1(0xf8)],_0x5ea8c1(0x166));for(const _0x4cb385 of _0x206532){await this[_0x5ea8c1(0x195)][_0x5ea8c1(0x175)]({'configKey':_0x4cb385});}}return await this[_0x5ea8c1(0x196)](),_0x5ea8c1(0x187);}async[_0x48055d(0xe8)](_0x2b5585,_0x3c9cc0){const _0x291e95=_0x48055d,{role:_0xd03e3}=_0x3c9cc0[_0x291e95(0x157)],{keys:_0x5f40b2}=_0x2b5585,_0x4c16f5=await this['configEntity'][_0x291e95(0x114)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x5f40b2)}});return _0xd03e3!==_0x291e95(0x11e)&&_0x4c16f5['forEach'](_0x4c3b18=>{const _0xa3140=_0x291e95;if(_0x4c3b18[_0xa3140(0x188)][_0xa3140(0x103)]('mj')||_0x4c3b18['configKey']['includes']('Key')||_0x4c3b18[_0xa3140(0x188)]['includes'](_0xa3140(0x19f))||_0x4c3b18['configKey']['includes']('cos')||_0x4c3b18[_0xa3140(0x188)]['includes'](_0xa3140(0xed))||_0x4c3b18['configKey'][_0xa3140(0x103)](_0xa3140(0x150))||_0x4c3b18[_0xa3140(0x188)][_0xa3140(0x103)](_0xa3140(0x185))||_0x4c3b18[_0xa3140(0x188)][_0xa3140(0x103)](_0xa3140(0x138))||_0x4c3b18[_0xa3140(0x188)][_0xa3140(0x103)](_0xa3140(0x160))||_0x4c3b18[_0xa3140(0x188)]['includes'](_0xa3140(0x19d))||_0x4c3b18['configKey']===_0xa3140(0xf6)){const _0x414e87=['payWeChatPublicKey','payWeChatPrivateKey'];if(_0x414e87[_0xa3140(0x103)](_0x4c3b18[_0xa3140(0x188)]))return _0x4c3b18[_0xa3140(0xeb)]=(0x0,utils_1[_0xa3140(0x1a3)])(_0x4c3b18[_0xa3140(0xeb)],'隐私内容、非超级管理员无权查看');const _0x17aef9=[_0xa3140(0x198),_0xa3140(0xfe),'mjProxy'];!_0x17aef9['includes'](_0x4c3b18['configKey'])&&!_0x4c3b18['configKey'][_0xa3140(0x103)](_0xa3140(0x183))&&(_0x4c3b18[_0xa3140(0xeb)]=(0x0,utils_1[_0xa3140(0x1a3)])(_0x4c3b18['configVal']));}}),_0x4c16f5[_0x291e95(0xe7)]((_0x5d3d73,_0x27e0cc)=>{const _0x5d818d=_0x291e95;return _0x5d3d73[_0x27e0cc[_0x5d818d(0x188)]]=_0x27e0cc[_0x5d818d(0xeb)],_0x5d3d73;},{});}[_0x48055d(0x14d)](){const _0x3999c4=_0x48055d,_0x253f76=this[_0x3999c4(0x119)][_0x3999c4(0x167)],_0x2b82f0=this[_0x3999c4(0xdb)];return!_0x2b82f0||Number(_0x253f76)===0x1;}async[_0x48055d(0x13c)](_0x1cc522){const _0x4a1ffd=_0x48055d;try{const {settings:_0x41c3f9}=_0x1cc522;for(const _0x7c13c4 of _0x41c3f9){await this['createOrUpdate'](_0x7c13c4);}await this[_0x4a1ffd(0x196)]();const _0x134219=_0x41c3f9[_0x4a1ffd(0xe9)](_0x59544a=>_0x59544a[_0x4a1ffd(0x188)]);return(_0x134219['includes']('baiduTextApiKey')||_0x134219[_0x4a1ffd(0x103)](_0x4a1ffd(0xe0)))&&await this[_0x4a1ffd(0x145)](![]),(_0x134219[_0x4a1ffd(0x103)](_0x4a1ffd(0x115))||_0x134219[_0x4a1ffd(0x103)](_0x4a1ffd(0x125)))&&await this[_0x4a1ffd(0x17b)](),_0x4a1ffd(0x147);}catch(_0x59d191){console[_0x4a1ffd(0x146)](_0x4a1ffd(0x121),_0x59d191);}}async['createOrUpdate'](_0xd33578){const _0x242a85=_0x48055d;try{const {configKey:_0xecdcc7,configVal:_0x3d113d,status:status=0x1}=_0xd33578,_0x5ef768=await this['configEntity'][_0x242a85(0x137)]({'where':{'configKey':_0xecdcc7}});if(_0x5ef768){const _0x340e66=await this[_0x242a85(0x195)][_0x242a85(0x17e)]({'configKey':_0xecdcc7},{'configVal':_0x3d113d,'status':status});}else{const _0x5c4e25=await this[_0x242a85(0x195)][_0x242a85(0x11b)]({'configKey':_0xecdcc7,'configVal':_0x3d113d,'status':status});}}catch(_0x5c78d8){console[_0x242a85(0x146)](_0x242a85(0x121),_0x5c78d8);throw new common_1[(_0x242a85(0x101))](_0x242a85(0x14b),common_1[_0x242a85(0x161)][_0x242a85(0x17f)]);}}async['queryNotice'](){const _0x2dde56=_0x48055d;return await this[_0x2dde56(0xe4)]([_0x2dde56(0x13b),_0x2dde56(0x1a2)]);}async['getCopyright'](){const _0x58b470=_0x48055d;return await this[_0x58b470(0xe4)]([_0x58b470(0x127),_0x58b470(0x14f)]);}async[_0x48055d(0x15a)](){const _0x3962e1=_0x48055d,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x3962e1(0xe4)]([_0x3962e1(0xfe),_0x3962e1(0x198),'payMpayStatus',_0x3962e1(0xda)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x3962e1(0x19b)](_0x568714=>_0x568714===0x0))throw new common_1['HttpException'](_0x3962e1(0x13e),common_1['HttpStatus'][_0x3962e1(0x17f)]);if(Number(payWechatStatus)===0x1)return _0x3962e1(0x160);if(Number(payEpayStatus)===0x1)return _0x3962e1(0x171);if(Number(payMpayStatus)===0x1)return _0x3962e1(0x155);if(Number(payHupiStatus)===0x1)return _0x3962e1(0x110);}async[_0x48055d(0x1a1)](){const _0x34d0cf=_0x48055d,{siteName:_0x3d8670,qqNumber:_0x8c22a2,vxNumber:_0x41eb52,registerBaseUrl:_0xad29a9,domain:_0x50286d}=await this['getConfigs']([_0x34d0cf(0x16e),'qqNumber',_0x34d0cf(0x112),'registerBaseUrl','domain']);return{'siteName':_0x3d8670,'qqNumber':_0x8c22a2,'vxNumber':_0x41eb52,'registerBaseUrl':_0xad29a9,'domain':_0x50286d};}async[_0x48055d(0x10d)](){const _0xf36e98=_0x48055d,{phoneRegisterStatus:_0x419b80,aliPhoneAccessKeyId:_0x3f9b2e,aliPhoneAccessKeySecret:_0x49d71b,aliPhoneSignName:_0x33a7ad,aliPhoneTemplateCode:_0x57c70e}=await this[_0xf36e98(0xe4)](['phoneRegisterStatus',_0xf36e98(0xf2),_0xf36e98(0x18e),_0xf36e98(0x10a),'aliPhoneTemplateCode']);if(Number(_0x419b80)!==0x1)throw new common_1[(_0xf36e98(0x101))](_0xf36e98(0x19c),common_1['HttpStatus'][_0xf36e98(0x17f)]);return{'accessKeyId':_0x3f9b2e,'accessKeySecret':_0x49d71b,'SignName':_0x33a7ad,'TemplateCode':_0x57c70e};}['getNamespace'](){const _0x5d9ee4=_0x48055d;return process[_0x5d9ee4(0x13f)]['NAMESPACE']||_0x5d9ee4(0x199);}async[_0x48055d(0x135)](){const _0x52ee4b=_0x48055d,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x52ee4b(0xe4)]([_0x52ee4b(0x107),'signInModel3Count',_0x52ee4b(0xfd),_0x52ee4b(0x162)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x52ee4b(0x101))]('签到功能暂未开放!',common_1[_0x52ee4b(0x161)][_0x52ee4b(0x17f)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x48055d(0x12c)](){const _0x14180f=_0x48055d,_0x314b5a=_0x14180f(0xf5),_0x5c0bff=await fetch(_0x314b5a,{}),_0x20ddc8=await _0x5c0bff[_0x14180f(0x179)](),{success:success=!![],message:_0x5ccc62}=_0x20ddc8;common_1[_0x14180f(0x141)]['error'](_0x14180f(0x159)),common_1[_0x14180f(0x141)]['error']('请填写您的授权码'),common_1[_0x14180f(0x141)][_0x14180f(0x16d)](_0x14180f(0x17c)),common_1['Logger'][_0x14180f(0x16d)](_0x14180f(0x17c)),common_1['Logger']['debug'](_0x14180f(0x173));}async[_0x48055d(0x1a6)](){const _0x5a4db3=_0x48055d,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x13f786,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x231236,nineaiBuiltInSensitiveAuthKey:_0x235d1c}=await this[_0x5a4db3(0xe4)]([_0x5a4db3(0x16f),'baiduTextAccessToken','nineaiBuiltInSensitiveStatus',_0x5a4db3(0x14c),_0x5a4db3(0x148)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x5a4db3(0xed),'baiduTextAccessToken':_0x13f786};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x5a4db3(0x142),'nineaiBuiltInSensitiveApiBase':_0x231236,'nineaiBuiltInSensitiveAuthKey':_0x235d1c};return null;}};GlobalConfigService=__decorate([(0x0,common_1[_0x48055d(0x17a)])(),__param(0x0,(0x0,typeorm_1[_0x48055d(0x11f)])(config_entity_1[_0x48055d(0x113)])),__param(0x1,(0x0,typeorm_1[_0x48055d(0x11f)])(chatLog_entity_1[_0x48055d(0x1a4)])),__metadata(_0x48055d(0x120),[typeorm_2['Repository'],typeorm_2[_0x48055d(0x16c)],models_service_1[_0x48055d(0x158)]])],GlobalConfigService),exports[_0x48055d(0xf7)]=GlobalConfigService;