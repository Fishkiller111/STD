'use strict';const _0x1e971e=_0x1103;(function(_0x3d0c0a,_0x2ee7a1){const _0x4a7341=_0x1103,_0x2650ba=_0x3d0c0a();while(!![]){try{const _0x268e70=-parseInt(_0x4a7341(0xc4))/0x1*(parseInt(_0x4a7341(0xd6))/0x2)+parseInt(_0x4a7341(0x9f))/0x3*(-parseInt(_0x4a7341(0x109))/0x4)+-parseInt(_0x4a7341(0xdd))/0x5*(parseInt(_0x4a7341(0xca))/0x6)+parseInt(_0x4a7341(0x9c))/0x7*(parseInt(_0x4a7341(0xde))/0x8)+-parseInt(_0x4a7341(0xa7))/0x9*(parseInt(_0x4a7341(0xb1))/0xa)+parseInt(_0x4a7341(0x13e))/0xb+parseInt(_0x4a7341(0x13c))/0xc*(parseInt(_0x4a7341(0x15a))/0xd);if(_0x268e70===_0x2ee7a1)break;else _0x2650ba['push'](_0x2650ba['shift']());}catch(_0x47dbb7){_0x2650ba['push'](_0x2650ba['shift']());}}}(_0x4169,0x5f95b));function _0x1103(_0x44b4e6,_0x5c60c3){const _0x416963=_0x4169();return _0x1103=function(_0x11039c,_0x3c895f){_0x11039c=_0x11039c-0x9a;let _0x3317ef=_0x416963[_0x11039c];return _0x3317ef;},_0x1103(_0x44b4e6,_0x5c60c3);}var __decorate=this&&this[_0x1e971e(0x142)]||function(_0x4a69d4,_0x50e95a,_0x8adecc,_0x21d803){const _0x34f843=_0x1e971e;var _0x271bde=arguments[_0x34f843(0xf0)],_0x5c0c80=_0x271bde<0x3?_0x50e95a:_0x21d803===null?_0x21d803=Object[_0x34f843(0x129)](_0x50e95a,_0x8adecc):_0x21d803,_0x2924b8;if(typeof Reflect==='object'&&typeof Reflect[_0x34f843(0xc8)]==='function')_0x5c0c80=Reflect[_0x34f843(0xc8)](_0x4a69d4,_0x50e95a,_0x8adecc,_0x21d803);else{for(var _0x10e25b=_0x4a69d4[_0x34f843(0xf0)]-0x1;_0x10e25b>=0x0;_0x10e25b--)if(_0x2924b8=_0x4a69d4[_0x10e25b])_0x5c0c80=(_0x271bde<0x3?_0x2924b8(_0x5c0c80):_0x271bde>0x3?_0x2924b8(_0x50e95a,_0x8adecc,_0x5c0c80):_0x2924b8(_0x50e95a,_0x8adecc))||_0x5c0c80;}return _0x271bde>0x3&&_0x5c0c80&&Object[_0x34f843(0xac)](_0x50e95a,_0x8adecc,_0x5c0c80),_0x5c0c80;},__metadata=this&&this[_0x1e971e(0xcc)]||function(_0x223906,_0x46afab){const _0x2a5ef8=_0x1e971e;if(typeof Reflect===_0x2a5ef8(0xb9)&&typeof Reflect['metadata']===_0x2a5ef8(0x158))return Reflect['metadata'](_0x223906,_0x46afab);},__param=this&&this[_0x1e971e(0x152)]||function(_0x253a14,_0x23d3c3){return function(_0x5f0673,_0x3c5506){_0x23d3c3(_0x5f0673,_0x3c5506,_0x253a14);};};Object['defineProperty'](exports,_0x1e971e(0xbc),{'value':!![]}),exports[_0x1e971e(0x139)]=void 0x0;const models_service_1=require('../models/models.service'),chatLog_entity_1=require(_0x1e971e(0xd0)),common_1=require(_0x1e971e(0x124)),config_entity_1=require(_0x1e971e(0xbe)),typeorm_1=require(_0x1e971e(0xba)),typeorm_2=require('typeorm'),utils_1=require(_0x1e971e(0x9e)),axios_1=require(_0x1e971e(0x110)),fs=require('fs'),packageJsonContent=fs[_0x1e971e(0x12a)]('package.json',_0x1e971e(0xc7)),packageJson=JSON[_0x1e971e(0x133)](packageJsonContent),version=packageJson['version'];console[_0x1e971e(0x156)](_0x1e971e(0x111),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x1e2879,_0x41cf20,_0x39ebfb){const _0x2e8ab6=_0x1e971e;this['configEntity']=_0x1e2879,this[_0x2e8ab6(0xda)]=_0x41cf20,this[_0x2e8ab6(0x11e)]=_0x39ebfb,this[_0x2e8ab6(0xdc)]={},this[_0x2e8ab6(0xdf)]=!![];}async[_0x1e971e(0xea)](){await this['initGetAllConfig']();}async[_0x1e971e(0x101)](_0x20116a){const _0x299f36=_0x1e971e;if(_0x20116a[_0x299f36(0xf0)]===0x0)return;if(_0x20116a['includes'](_0x299f36(0xc2))&&_0x20116a['length']===0x1)return this[_0x299f36(0xc2)];if(_0x20116a[_0x299f36(0x13b)]('wechatJsapiTicket')&&_0x20116a['length']===0x1)return this[_0x299f36(0xe9)];if(_0x20116a['length']===0x1)return this[_0x299f36(0xdc)][_0x20116a[0x0]];else{const _0x142424={};return _0x20116a['forEach'](_0x5a3087=>_0x142424[_0x5a3087]=this[_0x299f36(0xdc)][_0x5a3087]),_0x142424;}}async[_0x1e971e(0x14b)](){const _0x3837a1=_0x1e971e,_0xada1e0=await this['configEntity'][_0x3837a1(0x12f)]();this[_0x3837a1(0xdc)]=_0xada1e0[_0x3837a1(0xc5)]((_0x5aa144,_0x14804f)=>{const _0x5efa75=_0x3837a1;return _0x5aa144[_0x14804f['configKey']]=_0x14804f[_0x5efa75(0xf9)],_0x5aa144;},{}),this['initBaiduSensitive']();}async['initBaiduSensitive'](_0x540a98=!![]){const _0x20c77f=_0x1e971e,{baiduTextApiKey:_0x4042e5,baiduTextSecretKey:_0x25ea9b}=await this[_0x20c77f(0x101)]([_0x20c77f(0xd7),'baiduTextSecretKey']);if(!_0x4042e5||!_0x25ea9b){common_1[_0x20c77f(0xa4)][_0x20c77f(0xd9)]('百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!',_0x20c77f(0x139));return;}const _0x188baf={'Content-Type':_0x20c77f(0x106),'Accept':_0x20c77f(0x106)},_0x40941e=_0x20c77f(0x102)+_0x4042e5+_0x20c77f(0xc0)+_0x25ea9b+_0x20c77f(0xd5);try{const _0x241138=await axios_1[_0x20c77f(0xf7)]['post'](_0x40941e,{'headers':_0x188baf});this[_0x20c77f(0xdc)][_0x20c77f(0x148)]=_0x241138[_0x20c77f(0x10d)][_0x20c77f(0x114)];}catch(_0x1959be){if(_0x540a98)common_1[_0x20c77f(0xa4)]['error'](_0x20c77f(0xc1),_0x20c77f(0x139));else throw new common_1['HttpException'](_0x1959be[_0x20c77f(0xfe)][_0x20c77f(0x10d)][_0x20c77f(0xd1)],common_1[_0x20c77f(0x150)][_0x20c77f(0xb2)]);}}async[_0x1e971e(0xc6)](_0x46a4e4=![]){const _0x3086a4=_0x1e971e,{wechatOfficialAppId:_0x56bc52,wechatOfficialAppSecret:_0x51b74e}=await this['getConfigs']([_0x3086a4(0x161),_0x3086a4(0xc3)]);if(!_0x56bc52||!_0x51b74e)return common_1[_0x3086a4(0xa4)]['error'](_0x3086a4(0x154),_0x3086a4(0x155));this[_0x3086a4(0xc2)]=await this[_0x3086a4(0xb4)](_0x56bc52,_0x51b74e,_0x46a4e4),this['wechatJsapiTicket']=await this['fetchJsapiTicket'](this['wechatAccessToken']),common_1[_0x3086a4(0xa4)][_0x3086a4(0x156)]('wechat\x20refresh\x20access_token\x20\x20==>\x20'+this[_0x3086a4(0xc2)],'OfficialService');}async[_0x1e971e(0xb4)](_0x5554fc,_0x1b27b8,_0x584138=![]){const _0x4c20a5=_0x1e971e;if(process[_0x4c20a5(0xe6)][_0x4c20a5(0x11f)]===_0x4c20a5(0x12b)){this[_0x4c20a5(0xc2)]='';return;}const {data:{errmsg:_0x4e4162,access_token:_0x512fe0}}=await axios_1[_0x4c20a5(0xf7)][_0x4c20a5(0xfc)]('https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid='+_0x5554fc+'&secret='+_0x1b27b8);if(_0x4e4162){if(_0x584138)common_1[_0x4c20a5(0xa4)][_0x4c20a5(0xd9)](_0x4c20a5(0x15b)+_0x4e4162,_0x4c20a5(0x155));else throw new common_1[(_0x4c20a5(0x141))](_0x4c20a5(0x134),common_1[_0x4c20a5(0x150)]['BAD_REQUEST']);return'';}return _0x512fe0;}async[_0x1e971e(0x9b)](_0x1bb5ea){const _0x2e2d07=_0x1e971e;var _0x2af98f;if(process[_0x2e2d07(0xe6)]['ISDEV']===_0x2e2d07(0x12b)){this[_0x2e2d07(0xe9)]='';return;}const _0x31e191=await axios_1[_0x2e2d07(0xf7)][_0x2e2d07(0xfc)](_0x2e2d07(0x14e)+_0x1bb5ea+_0x2e2d07(0x163));return(_0x2af98f=_0x31e191===null||_0x31e191===void 0x0?void 0x0:_0x31e191[_0x2e2d07(0x10d)])===null||_0x2af98f===void 0x0?void 0x0:_0x2af98f[_0x2e2d07(0x145)];}async[_0x1e971e(0xa2)](_0x29cf9a){const _0x38e39e=_0x1e971e,{role:_0x47db90}=_0x29cf9a[_0x38e39e(0x11d)];return this[_0x38e39e(0xdc)];}async[_0x1e971e(0xe5)](_0xf6891c,_0xcf610a){const _0x56d4cd=_0x1e971e,_0x24209b=['vxNumber','registerSendStatus',_0x56d4cd(0xa1),_0x56d4cd(0xaa),_0x56d4cd(0xf3),'firstRegisterSendStatus',_0x56d4cd(0xd3),_0x56d4cd(0x116),_0x56d4cd(0x151),'firstRregisterSendDrawMjCount',_0x56d4cd(0x108),_0x56d4cd(0x153),_0x56d4cd(0xec),_0x56d4cd(0x131),_0x56d4cd(0xbf),_0x56d4cd(0xae),_0x56d4cd(0x11a),_0x56d4cd(0xe4),_0x56d4cd(0x132),_0x56d4cd(0x105),_0x56d4cd(0x160),_0x56d4cd(0x119),_0x56d4cd(0xe3),_0x56d4cd(0xbd),'buyCramiAddress',_0x56d4cd(0x136),_0x56d4cd(0x125),'payEpayChannel',_0x56d4cd(0x10f),_0x56d4cd(0x147),_0x56d4cd(0x149),'payHupiStatus',_0x56d4cd(0xb6),_0x56d4cd(0x12d),_0x56d4cd(0x138),_0x56d4cd(0xf4),_0x56d4cd(0xb0),_0x56d4cd(0xf5),'salesAllowDrawMoney',_0x56d4cd(0xb8),_0x56d4cd(0x143),'phoneRegisterStatus',_0x56d4cd(0xab),_0x56d4cd(0x167),_0x56d4cd(0x113),_0x56d4cd(0x130),_0x56d4cd(0xf6),_0x56d4cd(0x121),_0x56d4cd(0x10c),_0x56d4cd(0xe8),'signInMjDrawToken',_0x56d4cd(0xfd),_0x56d4cd(0x11c),'mjUseBaiduFy','mjHideNotBlock','mjHideWorkIn',_0x56d4cd(0xee)],_0xf5a19f=await this['configEntity'][_0x56d4cd(0x12f)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x24209b)}}),{domain:_0x1217a3}=_0xf6891c,_0x27694b=this['globalConfigs'][_0x56d4cd(0x9a)];_0x27694b!==_0x1217a3&&(this[_0x56d4cd(0xb3)]({'configKey':'domain','configVal':_0x1217a3,'status':0x1}),await this[_0x56d4cd(0x14b)]());const _0xd1db77=_0xf5a19f[_0x56d4cd(0xc5)]((_0x241a02,_0x13e401)=>{const _0x1c77da=_0x56d4cd;return _0x241a02[_0x13e401[_0x1c77da(0xb5)]]=_0x13e401['configVal'],_0x241a02;},{}),{wechatOfficialAppId:_0x1b0d7d,wechatOfficialAppSecret:_0x15c7de}=await this[_0x56d4cd(0x101)]([_0x56d4cd(0x161),_0x56d4cd(0xc3)]),_0x125beb=!!(_0x1b0d7d&&_0x15c7de);return Object[_0x56d4cd(0x127)](Object['assign']({},_0xd1db77),{'isUseWxLogin':_0x125beb});}async[_0x1e971e(0x164)](_0xda6356){const _0x456e18=_0x1e971e,{role:_0x4330a2}=_0xda6356['user'],_0x140178=await this[_0x456e18(0x117)][_0x456e18(0x12f)]({'where':{'configKey':(0x0,typeorm_2[_0x456e18(0x14a)])('%'+'chatGptKey'+'%')}});if(_0x4330a2==='super')return _0x140178;return _0x140178[_0x456e18(0x120)](_0x5be115=>{const _0x4aa568=_0x456e18;return _0x5be115[_0x4aa568(0xf9)]=(0x0,utils_1['hideString'])(_0x5be115[_0x4aa568(0xf9)]),_0x5be115;});}async[_0x1e971e(0x10a)](_0x4a0a70){const _0x4580ed=_0x1e971e,_0x2bdf89=_0x4a0a70[_0x4580ed(0xe1)][_0x4580ed(0x12e)](_0x3922b0=>_0x3922b0[_0x4580ed(0xf9)]),_0x389bed=_0x2bdf89[_0x4580ed(0x120)](_0x1f8d58=>_0x1f8d58[_0x4580ed(0xb5)]);for(const [_0x42de9d,_0x169c0a]of _0x2bdf89[_0x4580ed(0x137)]()){const {configKey:_0x406724,configVal:_0x147d67,status:_0x295a55}=_0x169c0a;await this[_0x4580ed(0xb3)]({'configKey':_0x4580ed(0x112)+(_0x42de9d+0x1),'configVal':_0x147d67,'status':_0x295a55});}const _0x4391da=await this[_0x4580ed(0x117)]['find']({'where':{'configKey':(0x0,typeorm_2[_0x4580ed(0x14a)])('%'+'chatGptKey'+'%')}}),_0x4ea424=_0x4391da[_0x4580ed(0x120)](_0x4d3b66=>_0x4d3b66['configKey']);if(_0x4ea424['length']>_0x389bed[_0x4580ed(0xf0)]){const _0x1a6afc=(0x0,utils_1[_0x4580ed(0xcb)])(_0x4ea424[_0x4580ed(0xf0)],_0x389bed['length'],'chatGptKey:');for(const _0x50d85e of _0x1a6afc){await this[_0x4580ed(0x117)][_0x4580ed(0x140)]({'configKey':_0x50d85e});}}return await this[_0x4580ed(0x14b)](),'操作完成！';}async[_0x1e971e(0xc9)](_0x5ca0c7,_0xa8d03a){const _0x344acb=_0x1e971e,{role:_0x56dd38}=_0xa8d03a['user'],{keys:_0x2607dc}=_0x5ca0c7,_0x110666=await this[_0x344acb(0x117)][_0x344acb(0x12f)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x2607dc)}});return _0x56dd38!==_0x344acb(0x9d)&&_0x110666[_0x344acb(0x128)](_0x895f6c=>{const _0x1e470c=_0x344acb;if(_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)]('mj')||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)](_0x1e470c(0xf1))||_0x895f6c['configKey'][_0x1e470c(0x13b)]('gpt')||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)]('cos')||_0x895f6c['configKey'][_0x1e470c(0x13b)](_0x1e470c(0x103))||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)](_0x1e470c(0x126))||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)](_0x1e470c(0x168))||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)]('pay')||_0x895f6c[_0x1e470c(0xb5)][_0x1e470c(0x13b)](_0x1e470c(0x146))||_0x895f6c['configKey'][_0x1e470c(0x13b)](_0x1e470c(0x10b))||_0x895f6c[_0x1e470c(0xb5)]===_0x1e470c(0x104)){const _0x593beb=['payWeChatPublicKey','payWeChatPrivateKey'];if(_0x593beb['includes'](_0x895f6c['configKey']))return _0x895f6c[_0x1e470c(0xf9)]=(0x0,utils_1[_0x1e470c(0x14c)])(_0x895f6c[_0x1e470c(0xf9)],_0x1e470c(0xe0));const _0x5d8733=[_0x1e470c(0x149),'payHupiStatus',_0x1e470c(0xcf)];!_0x5d8733['includes'](_0x895f6c[_0x1e470c(0xb5)])&&!_0x895f6c[_0x1e470c(0xb5)]['includes'](_0x1e470c(0xbb))&&(_0x895f6c[_0x1e470c(0xf9)]=(0x0,utils_1['hideString'])(_0x895f6c[_0x1e470c(0xf9)]));}}),_0x110666['reduce']((_0x234540,_0x49f9f3)=>{const _0x5b7138=_0x344acb;return _0x234540[_0x49f9f3[_0x5b7138(0xb5)]]=_0x49f9f3[_0x5b7138(0xf9)],_0x234540;},{});}[_0x1e971e(0xd8)](){const _0x568b47=_0x1e971e,_0x54ad12=this[_0x568b47(0xdc)][_0x568b47(0xe7)],_0xef454e=this[_0x568b47(0xdf)];return!_0xef454e||Number(_0x54ad12)===0x1;}async[_0x1e971e(0xfa)](_0x1b1d30){const _0x105499=_0x1e971e;try{const {settings:_0x39c6b1}=_0x1b1d30;for(const _0x5d4cb9 of _0x39c6b1){await this['createOrUpdate'](_0x5d4cb9);}await this['initGetAllConfig']();const _0x2635a8=_0x39c6b1[_0x105499(0x120)](_0x4f54c4=>_0x4f54c4[_0x105499(0xb5)]);return(_0x2635a8['includes'](_0x105499(0xd7))||_0x2635a8[_0x105499(0x13b)](_0x105499(0x122)))&&await this[_0x105499(0xf8)](![]),(_0x2635a8[_0x105499(0x13b)](_0x105499(0x161))||_0x2635a8[_0x105499(0x13b)](_0x105499(0xc3)))&&await this['getWechatAccessToken'](),'设置完成！';}catch(_0x51c556){console[_0x105499(0x156)](_0x105499(0x15d),_0x51c556);}}async[_0x1e971e(0xb3)](_0xa82441){const _0x3fee16=_0x1e971e;try{const {configKey:_0x4bf858,configVal:_0x5ebabb,status:status=0x1}=_0xa82441,_0x5541dc=await this[_0x3fee16(0x117)][_0x3fee16(0x14d)]({'where':{'configKey':_0x4bf858}});if(_0x5541dc){const _0x5b846a=await this['configEntity']['update']({'configKey':_0x4bf858},{'configVal':_0x5ebabb,'status':status});}else{const _0x52343a=await this['configEntity'][_0x3fee16(0x144)]({'configKey':_0x4bf858,'configVal':_0x5ebabb,'status':status});}}catch(_0x4a213a){console['log'](_0x3fee16(0x15d),_0x4a213a);throw new common_1[(_0x3fee16(0x141))](_0x3fee16(0xad),common_1['HttpStatus']['BAD_REQUEST']);}}async[_0x1e971e(0x15c)](){const _0x1be768=_0x1e971e;return await this[_0x1be768(0x101)]([_0x1be768(0xce),_0x1be768(0xa8)]);}async[_0x1e971e(0x157)](){const _0x13831f=_0x1e971e;return await this[_0x13831f(0x101)](['copyrightUrl',_0x13831f(0xcd)]);}async[_0x1e971e(0x162)](){const _0x429952=_0x1e971e,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x429952(0x101)]([_0x429952(0xff),_0x429952(0x149),'payMpayStatus',_0x429952(0xb6)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x429952(0xaf)](_0x5182b2=>_0x5182b2===0x0))throw new common_1[(_0x429952(0x141))](_0x429952(0xd2),common_1['HttpStatus'][_0x429952(0xb2)]);if(Number(payWechatStatus)===0x1)return _0x429952(0x146);if(Number(payEpayStatus)===0x1)return _0x429952(0xdb);if(Number(payMpayStatus)===0x1)return'mpay';if(Number(payHupiStatus)===0x1)return'hupi';}async[_0x1e971e(0xa6)](){const _0x4d1e35=_0x1e971e,{siteName:_0x267839,qqNumber:_0x1f1c8b,vxNumber:_0xe956b0,registerBaseUrl:_0x40e3f0,domain:_0x1361ae}=await this[_0x4d1e35(0x101)]([_0x4d1e35(0x119),_0x4d1e35(0x115),_0x4d1e35(0x10e),_0x4d1e35(0xa9),_0x4d1e35(0x9a)]);return{'siteName':_0x267839,'qqNumber':_0x1f1c8b,'vxNumber':_0xe956b0,'registerBaseUrl':_0x40e3f0,'domain':_0x1361ae};}async[_0x1e971e(0xa5)](){const _0x1be616=_0x1e971e,{phoneRegisterStatus:_0x4affc4,aliPhoneAccessKeyId:_0x37a192,aliPhoneAccessKeySecret:_0x5b5b2f,aliPhoneSignName:_0x55248f,aliPhoneTemplateCode:_0x1fafdd}=await this[_0x1be616(0x101)](['phoneRegisterStatus',_0x1be616(0xeb),_0x1be616(0xe2),_0x1be616(0x100),_0x1be616(0x165)]);if(Number(_0x4affc4)!==0x1)throw new common_1[(_0x1be616(0x141))](_0x1be616(0xa0),common_1[_0x1be616(0x150)][_0x1be616(0xb2)]);return{'accessKeyId':_0x37a192,'accessKeySecret':_0x5b5b2f,'SignName':_0x55248f,'TemplateCode':_0x1fafdd};}[_0x1e971e(0x118)](){const _0x5e812a=_0x1e971e;return process[_0x5e812a(0xe6)]['NAMESPACE']||'NINEAI';}async[_0x1e971e(0x11b)](){const _0x279346=_0x1e971e,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x279346(0x101)]([_0x279346(0x121),_0x279346(0x10c),_0x279346(0xe8),_0x279346(0xd4)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x279346(0x141))](_0x279346(0xfb),common_1[_0x279346(0x150)][_0x279346(0xb2)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async['auth'](){const _0x2925ee=_0x1e971e,_0x1085dd=_0x2925ee(0x13a),_0x366ccf=await fetch(_0x1085dd,{}),_0xbfd803=await _0x366ccf[_0x2925ee(0x12c)](),{success:success=!![],message:_0x182f75}=_0xbfd803;common_1[_0x2925ee(0xa4)][_0x2925ee(0xd9)](_0x2925ee(0xef)),common_1[_0x2925ee(0xa4)]['error'](_0x2925ee(0xa3)),common_1[_0x2925ee(0xa4)]['error'](_0x2925ee(0x166)),common_1[_0x2925ee(0xa4)][_0x2925ee(0xd9)](_0x2925ee(0x166)),common_1[_0x2925ee(0xa4)][_0x2925ee(0xb7)](_0x2925ee(0x135));}async[_0x1e971e(0x13f)](){const _0x223572=_0x1e971e,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x46fcb9,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x226ba3,nineaiBuiltInSensitiveAuthKey:_0x3eeda6}=await this[_0x223572(0x101)]([_0x223572(0x14f),_0x223572(0x148),_0x223572(0xed),_0x223572(0x159),_0x223572(0x15f)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x223572(0x103),'baiduTextAccessToken':_0x46fcb9};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x223572(0x13d),'nineaiBuiltInSensitiveApiBase':_0x226ba3,'nineaiBuiltInSensitiveAuthKey':_0x3eeda6};return null;}};function _0x4169(){const _0x5bbcef=['fetchBaseAccessToken','configKey','payWechatStatus','debug','companyName','object','@nestjs/typeorm','Status','__esModule','siteRobotName','./config.entity','invitedGuestSendModel3Count','&client_secret=','百度敏感词配置检测失败，您的参数可能配置的不正确!','wechatAccessToken','wechatOfficialAppSecret','113339AJYfHT','reduce','getWechatAccessToken','utf-8','decorate','queryConfig','33114hcuhUl','getDiffArray','__metadata','copyrightTitle','noticeInfo','mjProxy','../chatLog/chatLog.entity','error_description','支付功能暂未开放!','firstRegisterSendRank','signInMjDrawToken','&grant_type=client_credentials','10QhbYUF','baiduTextApiKey','getNineAiToken','error','chatLogEntity','epay','globalConfigs','5JhJQYp','24LigRwJ','nineAiToken','隐私内容、非超级管理员无权查看','configs','aliPhoneAccessKeySecret','robotAvatar','clientHomePath','queryFrontConfig','env','MjdrawCount','signInModel4Count','wechatJsapiTicket','onModuleInit','aliPhoneAccessKeyId','inviteGiveSendModel4Count','nineaiBuiltInSensitiveStatus','isVerifyEmail','请按要求填写正确的授权信息','length','Key','Injectable','registerSendDrawMjCount','isShowAppCatIcon','salesSeniorRatio','wechatSilentLoginStatus','default','initBaiduSensitive','configVal','setConfig','签到功能暂未开放!','get','appMenuHeaderTips','response','payHupiStatus','aliPhoneSignName','getConfigs','https://aip.baidubce.com/oauth/2.0/token?client_id=','baidu','openaiBaseUrl','clientFavoIconPath','application/json','InjectRepository','inviteSendStatus','463888STQilF','setGptKeys','mjProxyImgUrl','signInModel3Count','data','vxNumber','payMpayChannel','axios','\x20current\x20use\x20version\x20in\x20------>:\x20','chatGptKey:','phoneLoginStatus','access_token','qqNumber','firstRregisterSendModel3Count','configEntity','getNamespace','siteName','invitedGuestSendDrawMjCount','getSignatureGiftConfig','appMenuHeaderBgUrl','user','modelsService','ISDEV','map','signInStatus','baiduTextSecretKey','Repository','@nestjs/common','baiduCode','ali','assign','forEach','getOwnPropertyDescriptor','readFileSync','TRUE','json','payMpayStatus','filter','find','wechatRegisterStatus','inviteGiveSendDrawMjCount','clientLogoPath','parse','请配置正确的秘钥、当前秘钥检测不通过！','感谢您使用NineAi、祝您使用愉快~','mindDefaultData','entries','isAutoOpenNotice','GlobalConfigService','https://api.jiangly.com/api/permission/auth','includes','144MILAvk','nineai','3282994xWtygy','getSensitiveConfig','delete','HttpException','__decorate','filingNumber','save','ticket','wechat','payEpayApiPayUrl','baiduTextAccessToken','payEpayStatus','Like','initGetAllConfig','hideString','findOne','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','baiduTextStatus','HttpStatus','firstRregisterSendModel4Count','__param','inviteGiveSendModel3Count','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','OfficialService','log','getCopyright','function','nineaiBuiltInSensitiveApiBase','1132924quouKF','获取微信access_token失败、错误信息：','queryNotice','error:\x20','ConfigEntity','nineaiBuiltInSensitiveAuthKey','isUseWxLogin','wechatOfficialAppId','queryPayType','&type=jsapi','queryGptKeys','aliPhoneTemplateCode','缺失ip信息','emailLoginStatus','tencent','domain','fetchJsapiTicket','1768963UzxNcg','super','../../common/utils','12oitWpL','手机验证码功能暂未开放!','registerSendModel3Count','queryAllConfig','请填写您的授权码','Logger','getPhoneVerifyConfig','getAuthInfo','110412kygiHJ','noticeTitle','registerBaseUrl','registerSendModel4Count','emailRegisterStatus','defineProperty','设置配置信息错误！','invitedGuestSendModel4Count','every','salesBaseRatio','550CbIzON','BAD_REQUEST','createOrUpdate'];_0x4169=function(){return _0x5bbcef;};return _0x4169();}GlobalConfigService=__decorate([(0x0,common_1[_0x1e971e(0xf2)])(),__param(0x0,(0x0,typeorm_1[_0x1e971e(0x107)])(config_entity_1[_0x1e971e(0x15e)])),__param(0x1,(0x0,typeorm_1[_0x1e971e(0x107)])(chatLog_entity_1['ChatLogEntity'])),__metadata('design:paramtypes',[typeorm_2[_0x1e971e(0x123)],typeorm_2[_0x1e971e(0x123)],models_service_1['ModelsService']])],GlobalConfigService),exports[_0x1e971e(0x139)]=GlobalConfigService;