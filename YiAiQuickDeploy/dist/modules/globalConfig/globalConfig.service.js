'use strict';function _0x2a7f(_0x3c40d2,_0x41059b){const _0xf99ff3=_0xf99f();return _0x2a7f=function(_0x2a7f1d,_0x17f8e5){_0x2a7f1d=_0x2a7f1d-0x17e;let _0x53bc2b=_0xf99ff3[_0x2a7f1d];return _0x53bc2b;},_0x2a7f(_0x3c40d2,_0x41059b);}const _0x484ea8=_0x2a7f;(function(_0x42eef2,_0x3ee9e7){const _0x31d2f1=_0x2a7f,_0x4cadbb=_0x42eef2();while(!![]){try{const _0x274be1=-parseInt(_0x31d2f1(0x232))/0x1+parseInt(_0x31d2f1(0x1b0))/0x2*(parseInt(_0x31d2f1(0x235))/0x3)+-parseInt(_0x31d2f1(0x1b3))/0x4*(-parseInt(_0x31d2f1(0x19c))/0x5)+-parseInt(_0x31d2f1(0x19a))/0x6*(parseInt(_0x31d2f1(0x1ce))/0x7)+parseInt(_0x31d2f1(0x224))/0x8+-parseInt(_0x31d2f1(0x238))/0x9+parseInt(_0x31d2f1(0x22d))/0xa;if(_0x274be1===_0x3ee9e7)break;else _0x4cadbb['push'](_0x4cadbb['shift']());}catch(_0x156277){_0x4cadbb['push'](_0x4cadbb['shift']());}}}(_0xf99f,0x5933c));var __decorate=this&&this[_0x484ea8(0x227)]||function(_0x2970f8,_0x4ef259,_0x5c44d5,_0x590114){const _0x10fc13=_0x484ea8;var _0x17182c=arguments[_0x10fc13(0x1d1)],_0x4c07b8=_0x17182c<0x3?_0x4ef259:_0x590114===null?_0x590114=Object[_0x10fc13(0x1ec)](_0x4ef259,_0x5c44d5):_0x590114,_0x2c7e55;if(typeof Reflect===_0x10fc13(0x202)&&typeof Reflect[_0x10fc13(0x20c)]===_0x10fc13(0x1ed))_0x4c07b8=Reflect[_0x10fc13(0x20c)](_0x2970f8,_0x4ef259,_0x5c44d5,_0x590114);else{for(var _0x2586bc=_0x2970f8[_0x10fc13(0x1d1)]-0x1;_0x2586bc>=0x0;_0x2586bc--)if(_0x2c7e55=_0x2970f8[_0x2586bc])_0x4c07b8=(_0x17182c<0x3?_0x2c7e55(_0x4c07b8):_0x17182c>0x3?_0x2c7e55(_0x4ef259,_0x5c44d5,_0x4c07b8):_0x2c7e55(_0x4ef259,_0x5c44d5))||_0x4c07b8;}return _0x17182c>0x3&&_0x4c07b8&&Object[_0x10fc13(0x186)](_0x4ef259,_0x5c44d5,_0x4c07b8),_0x4c07b8;},__metadata=this&&this[_0x484ea8(0x200)]||function(_0x350560,_0x2ce55b){const _0x192d2d=_0x484ea8;if(typeof Reflect==='object'&&typeof Reflect[_0x192d2d(0x196)]==='function')return Reflect['metadata'](_0x350560,_0x2ce55b);},__param=this&&this[_0x484ea8(0x20a)]||function(_0xed2d17,_0x17bd57){return function(_0x3132f1,_0x4e733e){_0x17bd57(_0x3132f1,_0x4e733e,_0xed2d17);};};Object[_0x484ea8(0x186)](exports,_0x484ea8(0x1dd),{'value':!![]}),exports[_0x484ea8(0x18d)]=void 0x0;const models_service_1=require('../models/models.service'),chatLog_entity_1=require(_0x484ea8(0x203)),common_1=require(_0x484ea8(0x201)),config_entity_1=require(_0x484ea8(0x229)),typeorm_1=require(_0x484ea8(0x225)),typeorm_2=require('typeorm'),utils_1=require(_0x484ea8(0x207)),axios_1=require('axios'),fs=require('fs'),packageJsonContent=fs[_0x484ea8(0x1f2)](_0x484ea8(0x1b7),'utf-8'),packageJson=JSON[_0x484ea8(0x23c)](packageJsonContent),version=packageJson[_0x484ea8(0x1ca)];console[_0x484ea8(0x1d7)](_0x484ea8(0x1d2),version);let GlobalConfigService=class GlobalConfigService{constructor(_0x287b1e,_0x51a844,_0x24b1ae){const _0x8c234c=_0x484ea8;this[_0x8c234c(0x20d)]=_0x287b1e,this['chatLogEntity']=_0x51a844,this['modelsService']=_0x24b1ae,this[_0x8c234c(0x234)]={},this[_0x8c234c(0x1e3)]=!![];}async[_0x484ea8(0x181)](){const _0x56004b=_0x484ea8;await this[_0x56004b(0x243)]();}async['getConfigs'](_0x5a8bbe){const _0x2488a8=_0x484ea8;if(_0x5a8bbe[_0x2488a8(0x1d1)]===0x0)return;if(_0x5a8bbe[_0x2488a8(0x1bf)](_0x2488a8(0x1e8))&&_0x5a8bbe[_0x2488a8(0x1d1)]===0x1)return this['wechatAccessToken'];if(_0x5a8bbe[_0x2488a8(0x1bf)](_0x2488a8(0x20b))&&_0x5a8bbe['length']===0x1)return this['wechatJsapiTicket'];if(_0x5a8bbe[_0x2488a8(0x1d1)]===0x1)return this['globalConfigs'][_0x5a8bbe[0x0]];else{const _0x33aba2={};return _0x5a8bbe[_0x2488a8(0x1bc)](_0x91c9e7=>_0x33aba2[_0x91c9e7]=this[_0x2488a8(0x234)][_0x91c9e7]),_0x33aba2;}}async[_0x484ea8(0x243)](){const _0x409b76=_0x484ea8,_0x53ec80=await this[_0x409b76(0x20d)][_0x409b76(0x184)]();this[_0x409b76(0x234)]=_0x53ec80[_0x409b76(0x214)]((_0x4056c3,_0x42c475)=>{const _0x5c48f5=_0x409b76;return _0x4056c3[_0x42c475[_0x5c48f5(0x1d5)]]=_0x42c475[_0x5c48f5(0x18b)],_0x4056c3;},{}),this[_0x409b76(0x1f5)]();}async['initBaiduSensitive'](_0x40723e=!![]){const _0x343017=_0x484ea8,{baiduTextApiKey:_0x2bfc1f,baiduTextSecretKey:_0x1e2b70}=await this[_0x343017(0x206)]([_0x343017(0x1ff),_0x343017(0x1c4)]);if(!_0x2bfc1f||!_0x1e2b70){common_1['Logger'][_0x343017(0x19e)](_0x343017(0x1b4),_0x343017(0x18d));return;}const _0x3393b5={'Content-Type':_0x343017(0x1b6),'Accept':'application/json'},_0x25a713=_0x343017(0x18c)+_0x2bfc1f+_0x343017(0x1c0)+_0x1e2b70+'&grant_type=client_credentials';try{const _0x52a064=await axios_1[_0x343017(0x1c7)][_0x343017(0x1ba)](_0x25a713,{'headers':_0x3393b5});this['globalConfigs'][_0x343017(0x1a4)]=_0x52a064[_0x343017(0x198)][_0x343017(0x1c9)];}catch(_0x45b330){if(_0x40723e)common_1[_0x343017(0x19b)][_0x343017(0x19e)]('百度敏感词配置检测失败，您的参数可能配置的不正确!',_0x343017(0x18d));else throw new common_1[(_0x343017(0x195))](_0x45b330[_0x343017(0x1ea)][_0x343017(0x198)][_0x343017(0x18a)],common_1[_0x343017(0x19d)]['BAD_REQUEST']);}}async['getWechatAccessToken'](_0x4145b6=![]){const _0x3f139b=_0x484ea8,{wechatOfficialAppId:_0x5875f8,wechatOfficialAppSecret:_0x30a034}=await this[_0x3f139b(0x206)]([_0x3f139b(0x197),_0x3f139b(0x1c3)]);if(!_0x5875f8||!_0x30a034)return common_1['Logger'][_0x3f139b(0x19e)](_0x3f139b(0x1e5),_0x3f139b(0x204));this[_0x3f139b(0x1e8)]=await this['fetchBaseAccessToken'](_0x5875f8,_0x30a034,_0x4145b6),this[_0x3f139b(0x20b)]=await this['fetchJsapiTicket'](this['wechatAccessToken']),common_1[_0x3f139b(0x19b)][_0x3f139b(0x1d7)]('wechat\x20refresh\x20access_token\x20\x20==>\x20'+this[_0x3f139b(0x1e8)],_0x3f139b(0x204));}async['fetchBaseAccessToken'](_0x33ab3f,_0x5bb96d,_0x25b3b3=![]){const _0x2c19f8=_0x484ea8;if(process['env'][_0x2c19f8(0x1f3)]===_0x2c19f8(0x1d6)){this[_0x2c19f8(0x1e8)]='';return;}const {data:{errmsg:_0x5adcc6,access_token:_0xe28b1c}}=await axios_1['default'][_0x2c19f8(0x239)]('https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid='+_0x33ab3f+_0x2c19f8(0x1e9)+_0x5bb96d);if(_0x5adcc6){if(_0x25b3b3)common_1[_0x2c19f8(0x19b)]['error'](_0x2c19f8(0x22e)+_0x5adcc6,_0x2c19f8(0x204));else throw new common_1[(_0x2c19f8(0x195))]('请配置正确的秘钥、当前秘钥检测不通过！',common_1[_0x2c19f8(0x19d)][_0x2c19f8(0x1c5)]);return'';}return _0xe28b1c;}async[_0x484ea8(0x190)](_0x1e16a1){const _0x132fb8=_0x484ea8;var _0x1e327f;if(process[_0x132fb8(0x1c1)]['ISDEV']===_0x132fb8(0x1d6)){this[_0x132fb8(0x20b)]='';return;}const _0x419ec5=await axios_1['default'][_0x132fb8(0x239)]('https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token='+_0x1e16a1+_0x132fb8(0x17e));return(_0x1e327f=_0x419ec5===null||_0x419ec5===void 0x0?void 0x0:_0x419ec5['data'])===null||_0x1e327f===void 0x0?void 0x0:_0x1e327f[_0x132fb8(0x1ab)];}async[_0x484ea8(0x21c)](_0x1180b5){const _0xc3469e=_0x484ea8,{role:_0x35a06b}=_0x1180b5[_0xc3469e(0x1d3)];return this[_0xc3469e(0x234)];}async[_0x484ea8(0x222)](_0xd38a9d,_0x52a1d0){const _0x24409a=_0x484ea8,_0x4ebeeb=[_0x24409a(0x1aa),_0x24409a(0x1fc),'registerSendModel3Count',_0x24409a(0x1ee),_0x24409a(0x220),_0x24409a(0x18f),_0x24409a(0x208),_0x24409a(0x19f),_0x24409a(0x1c6),_0x24409a(0x1b8),_0x24409a(0x1ef),'inviteGiveSendModel3Count',_0x24409a(0x1a1),'inviteGiveSendDrawMjCount','invitedGuestSendModel3Count',_0x24409a(0x1da),_0x24409a(0x1f8),_0x24409a(0x221),'clientLogoPath','clientFavoIconPath',_0x24409a(0x1f7),_0x24409a(0x1d8),'robotAvatar',_0x24409a(0x219),_0x24409a(0x1b2),_0x24409a(0x1a6),_0x24409a(0x1e0),'payEpayChannel','payMpayChannel',_0x24409a(0x182),_0x24409a(0x231),_0x24409a(0x1e2),_0x24409a(0x212),_0x24409a(0x1fe),_0x24409a(0x1a2),_0x24409a(0x21b),_0x24409a(0x213),'salesSeniorRatio',_0x24409a(0x1bb),_0x24409a(0x185),_0x24409a(0x1e6),_0x24409a(0x1a3),_0x24409a(0x211),_0x24409a(0x1a0),_0x24409a(0x1d9),_0x24409a(0x193),_0x24409a(0x245),_0x24409a(0x209),_0x24409a(0x23d),_0x24409a(0x1cb),_0x24409a(0x20e),_0x24409a(0x21e),'appMenuHeaderBgUrl',_0x24409a(0x228),_0x24409a(0x22b),_0x24409a(0x1fb),_0x24409a(0x1ac)],_0x4a8406=await this[_0x24409a(0x20d)][_0x24409a(0x184)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x4ebeeb)}}),{domain:_0x3e82a5}=_0xd38a9d,_0x2d58fa=this[_0x24409a(0x234)]['domain'];_0x2d58fa!==_0x3e82a5&&(this[_0x24409a(0x1e7)]({'configKey':'domain','configVal':_0x3e82a5,'status':0x1}),await this[_0x24409a(0x243)]());const _0x1c69d5=_0x4a8406[_0x24409a(0x214)]((_0x27a022,_0x45bc83)=>{const _0x9d7d2e=_0x24409a;return _0x27a022[_0x45bc83[_0x9d7d2e(0x1d5)]]=_0x45bc83['configVal'],_0x27a022;},{}),{wechatOfficialAppId:_0x575e9c,wechatOfficialAppSecret:_0x514765}=await this[_0x24409a(0x206)]([_0x24409a(0x197),_0x24409a(0x1c3)]),_0x4ff2f5=!!(_0x575e9c&&_0x514765);return Object[_0x24409a(0x1e1)](Object[_0x24409a(0x1e1)]({},_0x1c69d5),{'isUseWxLogin':_0x4ff2f5});}async[_0x484ea8(0x1cf)](_0x340cb8){const _0x1b5e04=_0x484ea8,{role:_0x4f7ce4}=_0x340cb8['user'],_0xa28ea2=await this[_0x1b5e04(0x20d)][_0x1b5e04(0x184)]({'where':{'configKey':(0x0,typeorm_2[_0x1b5e04(0x187)])('%'+_0x1b5e04(0x241)+'%')}});if(_0x4f7ce4===_0x1b5e04(0x191))return _0xa28ea2;return _0xa28ea2[_0x1b5e04(0x1f1)](_0x587707=>{const _0x209a8c=_0x1b5e04;return _0x587707[_0x209a8c(0x18b)]=(0x0,utils_1[_0x209a8c(0x223)])(_0x587707[_0x209a8c(0x18b)]),_0x587707;});}async[_0x484ea8(0x1b5)](_0x1c9514){const _0x110280=_0x484ea8,_0x22f42b=_0x1c9514[_0x110280(0x21d)]['filter'](_0x53e76c=>_0x53e76c[_0x110280(0x18b)]),_0x25f37b=_0x22f42b[_0x110280(0x1f1)](_0x3e36af=>_0x3e36af['configKey']);for(const [_0x1234a5,_0x5ce4be]of _0x22f42b[_0x110280(0x1a9)]()){const {configKey:_0x3944e8,configVal:_0x3ec736,status:_0x21f759}=_0x5ce4be;await this[_0x110280(0x1e7)]({'configKey':_0x110280(0x1f0)+(_0x1234a5+0x1),'configVal':_0x3ec736,'status':_0x21f759});}const _0x5d6918=await this[_0x110280(0x20d)][_0x110280(0x184)]({'where':{'configKey':(0x0,typeorm_2[_0x110280(0x187)])('%'+_0x110280(0x241)+'%')}}),_0x137c2a=_0x5d6918[_0x110280(0x1f1)](_0x3ee903=>_0x3ee903['configKey']);if(_0x137c2a[_0x110280(0x1d1)]>_0x25f37b[_0x110280(0x1d1)]){const _0xb118b7=(0x0,utils_1[_0x110280(0x21f)])(_0x137c2a[_0x110280(0x1d1)],_0x25f37b['length'],_0x110280(0x1f0));for(const _0x48d87a of _0xb118b7){await this[_0x110280(0x20d)]['delete']({'configKey':_0x48d87a});}}return await this[_0x110280(0x243)](),'操作完成！';}async[_0x484ea8(0x1d4)](_0x10c5bc,_0x1e9335){const _0x16638b=_0x484ea8,{role:_0x30cbd8}=_0x1e9335[_0x16638b(0x1d3)],{keys:_0x53b918}=_0x10c5bc,_0x1d8097=await this['configEntity'][_0x16638b(0x184)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x53b918)}});return _0x30cbd8!==_0x16638b(0x191)&&_0x1d8097[_0x16638b(0x1bc)](_0x1c1164=>{const _0x54bdf1=_0x16638b;if(_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)]('mj')||_0x1c1164['configKey'][_0x54bdf1(0x1bf)](_0x54bdf1(0x237))||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)]('gpt')||_0x1c1164[_0x54bdf1(0x1d5)]['includes'](_0x54bdf1(0x1dc))||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x1bd))||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x1df))||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x21a))||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x236))||_0x1c1164[_0x54bdf1(0x1d5)]['includes']('wechat')||_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x1fd))||_0x1c1164[_0x54bdf1(0x1d5)]==='openaiBaseUrl'){const _0x331309=[_0x54bdf1(0x23f),_0x54bdf1(0x20f)];if(_0x331309['includes'](_0x1c1164[_0x54bdf1(0x1d5)]))return _0x1c1164[_0x54bdf1(0x18b)]=(0x0,utils_1[_0x54bdf1(0x223)])(_0x1c1164[_0x54bdf1(0x18b)],_0x54bdf1(0x17f));const _0x40edf8=[_0x54bdf1(0x231),_0x54bdf1(0x1e2),_0x54bdf1(0x1d0)];!_0x40edf8['includes'](_0x1c1164[_0x54bdf1(0x1d5)])&&!_0x1c1164[_0x54bdf1(0x1d5)][_0x54bdf1(0x1bf)](_0x54bdf1(0x23e))&&(_0x1c1164['configVal']=(0x0,utils_1['hideString'])(_0x1c1164[_0x54bdf1(0x18b)]));}}),_0x1d8097[_0x16638b(0x214)]((_0x206b7f,_0x1de188)=>{const _0x1e20b7=_0x16638b;return _0x206b7f[_0x1de188[_0x1e20b7(0x1d5)]]=_0x1de188[_0x1e20b7(0x18b)],_0x206b7f;},{});}['getNineAiToken'](){const _0x5123f9=_0x484ea8,_0x189697=this[_0x5123f9(0x234)][_0x5123f9(0x192)],_0x213080=this['nineAiToken'];return!_0x213080||Number(_0x189697)===0x1;}async[_0x484ea8(0x1be)](_0x41a34c){const _0x2b4cf6=_0x484ea8;try{const {settings:_0x507ef5}=_0x41a34c;for(const _0x3088d5 of _0x507ef5){await this[_0x2b4cf6(0x1e7)](_0x3088d5);}await this[_0x2b4cf6(0x243)]();const _0x43593e=_0x507ef5[_0x2b4cf6(0x1f1)](_0x4df835=>_0x4df835[_0x2b4cf6(0x1d5)]);return(_0x43593e['includes'](_0x2b4cf6(0x1ff))||_0x43593e[_0x2b4cf6(0x1bf)](_0x2b4cf6(0x1c4)))&&await this[_0x2b4cf6(0x1f5)](![]),(_0x43593e['includes']('wechatOfficialAppId')||_0x43593e[_0x2b4cf6(0x1bf)](_0x2b4cf6(0x1c3)))&&await this[_0x2b4cf6(0x1b1)](),_0x2b4cf6(0x1a5);}catch(_0x26eb17){console['log']('error:\x20',_0x26eb17);}}async[_0x484ea8(0x1e7)](_0x5c263f){const _0x1264b4=_0x484ea8;try{const {configKey:_0x1465a8,configVal:_0x154426,status:status=0x1}=_0x5c263f,_0x362ac5=await this[_0x1264b4(0x20d)][_0x1264b4(0x22a)]({'where':{'configKey':_0x1465a8}});if(_0x362ac5){const _0x5ce7d2=await this[_0x1264b4(0x20d)][_0x1264b4(0x199)]({'configKey':_0x1465a8},{'configVal':_0x154426,'status':status});}else{const _0xbe8e16=await this['configEntity'][_0x1264b4(0x210)]({'configKey':_0x1465a8,'configVal':_0x154426,'status':status});}}catch(_0x22e44d){console['log'](_0x1264b4(0x244),_0x22e44d);throw new common_1[(_0x1264b4(0x195))](_0x1264b4(0x216),common_1[_0x1264b4(0x19d)]['BAD_REQUEST']);}}async[_0x484ea8(0x1c2)](){const _0x56f9b6=_0x484ea8;return await this['getConfigs']([_0x56f9b6(0x1b9),'noticeTitle']);}async[_0x484ea8(0x1f9)](){const _0x59616b=_0x484ea8;return await this[_0x59616b(0x206)](['copyrightUrl',_0x59616b(0x1cc)]);}async[_0x484ea8(0x1f4)](){const _0x20f8c9=_0x484ea8,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x20f8c9(0x206)]([_0x20f8c9(0x1e2),'payEpayStatus',_0x20f8c9(0x1fe),_0x20f8c9(0x212)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x2c34c3=>_0x2c34c3===0x0))throw new common_1[(_0x20f8c9(0x195))](_0x20f8c9(0x188),common_1[_0x20f8c9(0x19d)]['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0x20f8c9(0x1af);if(Number(payEpayStatus)===0x1)return'epay';if(Number(payMpayStatus)===0x1)return _0x20f8c9(0x217);if(Number(payHupiStatus)===0x1)return'hupi';}async[_0x484ea8(0x1eb)](){const _0x3c4e42=_0x484ea8,{siteName:_0x47854b,qqNumber:_0x593520,vxNumber:_0x2e316d,registerBaseUrl:_0x593dc0,domain:_0x1aa4f1}=await this['getConfigs']([_0x3c4e42(0x1d8),_0x3c4e42(0x205),_0x3c4e42(0x1aa),_0x3c4e42(0x226),_0x3c4e42(0x23a)]);return{'siteName':_0x47854b,'qqNumber':_0x593520,'vxNumber':_0x2e316d,'registerBaseUrl':_0x593dc0,'domain':_0x1aa4f1};}async['getPhoneVerifyConfig'](){const _0x36b1f2=_0x484ea8,{phoneRegisterStatus:_0x324f38,aliPhoneAccessKeyId:_0x5c4d2b,aliPhoneAccessKeySecret:_0x2c787a,aliPhoneSignName:_0x2a7fae,aliPhoneTemplateCode:_0x1df884}=await this[_0x36b1f2(0x206)]([_0x36b1f2(0x1a3),_0x36b1f2(0x1a7),_0x36b1f2(0x189),_0x36b1f2(0x1db),_0x36b1f2(0x180)]);if(Number(_0x324f38)!==0x1)throw new common_1['HttpException']('手机验证码功能暂未开放!',common_1[_0x36b1f2(0x19d)][_0x36b1f2(0x1c5)]);return{'accessKeyId':_0x5c4d2b,'accessKeySecret':_0x2c787a,'SignName':_0x2a7fae,'TemplateCode':_0x1df884};}[_0x484ea8(0x1c8)](){const _0x443937=_0x484ea8;return process[_0x443937(0x1c1)][_0x443937(0x230)]||_0x443937(0x22c);}async[_0x484ea8(0x218)](){const _0x1d2223=_0x484ea8,{signInStatus:signInStatus=0x0,signInModel3Count:signInModel3Count=0x0,signInModel4Count:signInModel4Count=0x0,signInMjDrawToken:signInMjDrawToken=0x0}=await this[_0x1d2223(0x206)](['signInStatus','signInModel3Count','signInModel4Count',_0x1d2223(0x20e)]);if(Number(signInStatus)!==0x1)throw new common_1[(_0x1d2223(0x195))]('签到功能暂未开放!',common_1[_0x1d2223(0x19d)][_0x1d2223(0x1c5)]);return{'model3Count':Number(signInModel3Count),'model4Count':Number(signInModel4Count),'drawMjCount':Number(signInMjDrawToken)};}async[_0x484ea8(0x22f)](){const _0x6e1638=_0x484ea8,_0xade101=_0x6e1638(0x246),_0x854b95=await fetch(_0xade101,{}),_0x325492=await _0x854b95['json'](),{success:success=!![],message:_0x55c0a2}=_0x325492;common_1[_0x6e1638(0x19b)][_0x6e1638(0x19e)](_0x6e1638(0x242)),common_1[_0x6e1638(0x19b)][_0x6e1638(0x19e)](_0x6e1638(0x1ad)),common_1[_0x6e1638(0x19b)][_0x6e1638(0x19e)](_0x6e1638(0x1f6)),common_1['Logger'][_0x6e1638(0x19e)](_0x6e1638(0x1f6)),common_1[_0x6e1638(0x19b)][_0x6e1638(0x240)](_0x6e1638(0x1cd));}async[_0x484ea8(0x215)](){const _0x117de8=_0x484ea8,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x5466e6,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x29656e,nineaiBuiltInSensitiveAuthKey:_0x9aba01}=await this[_0x117de8(0x206)](['baiduTextStatus',_0x117de8(0x1a4),_0x117de8(0x194),_0x117de8(0x1e4),_0x117de8(0x18e)]);if(Number(baiduTextStatus)===0x1)return{'useType':_0x117de8(0x1bd),'baiduTextAccessToken':_0x5466e6};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':'nineai','nineaiBuiltInSensitiveApiBase':_0x29656e,'nineaiBuiltInSensitiveAuthKey':_0x9aba01};return null;}};GlobalConfigService=__decorate([(0x0,common_1[_0x484ea8(0x1de)])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(config_entity_1[_0x484ea8(0x1ae)])),__param(0x1,(0x0,typeorm_1[_0x484ea8(0x1fa)])(chatLog_entity_1[_0x484ea8(0x1a8)])),__metadata(_0x484ea8(0x183),[typeorm_2[_0x484ea8(0x23b)],typeorm_2[_0x484ea8(0x23b)],models_service_1[_0x484ea8(0x233)]])],GlobalConfigService),exports[_0x484ea8(0x18d)]=GlobalConfigService;function _0xf99f(){const _0x272c21=['find','companyName','defineProperty','Like','支付功能暂未开放!','aliPhoneAccessKeySecret','error_description','configVal','https://aip.baidubce.com/oauth/2.0/token?client_id=','GlobalConfigService','nineaiBuiltInSensitiveAuthKey','firstRegisterSendStatus','fetchJsapiTicket','super','MjdrawCount','wechatRegisterStatus','nineaiBuiltInSensitiveStatus','HttpException','metadata','wechatOfficialAppId','data','update','3572988JbFhvx','Logger','5HqRbKb','HttpStatus','error','firstRregisterSendModel3Count','emailLoginStatus','inviteGiveSendModel4Count','isAutoOpenNotice','phoneRegisterStatus','baiduTextAccessToken','设置完成！','mindDefaultData','aliPhoneAccessKeyId','ChatLogEntity','entries','vxNumber','ticket','isVerifyEmail','请填写您的授权码','ConfigEntity','wechat','1270bOBxlU','getWechatAccessToken','buyCramiAddress','1746764GebCeM','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','setGptKeys','application/json','package.json','firstRregisterSendDrawMjCount','noticeInfo','post','salesAllowDrawMoney','forEach','baidu','setConfig','includes','&client_secret=','env','queryNotice','wechatOfficialAppSecret','baiduTextSecretKey','BAD_REQUEST','firstRregisterSendModel4Count','default','getNamespace','access_token','version','signInModel4Count','copyrightTitle','感谢您使用NineAi、祝您使用愉快~','7cJchcn','queryGptKeys','mjProxy','length','\x20current\x20use\x20version\x20in\x20------>:\x20','user','queryConfig','configKey','TRUE','log','siteName','phoneLoginStatus','invitedGuestSendModel4Count','aliPhoneSignName','cos','__esModule','Injectable','ali','baiduCode','assign','payHupiStatus','nineAiToken','nineaiBuiltInSensitiveApiBase','还未配置微信的appId和secret、配置后才可进行微信扫码登录！！！','filingNumber','createOrUpdate','wechatAccessToken','&secret=','response','getAuthInfo','getOwnPropertyDescriptor','function','registerSendModel4Count','inviteSendStatus','chatGptKey:','map','readFileSync','ISDEV','queryPayType','initBaiduSensitive','缺失ip信息','isUseWxLogin','invitedGuestSendDrawMjCount','getCopyright','InjectRepository','mjHideWorkIn','registerSendStatus','mjProxyImgUrl','payMpayStatus','baiduTextApiKey','__metadata','@nestjs/common','object','../chatLog/chatLog.entity','OfficialService','qqNumber','getConfigs','../../common/utils','firstRegisterSendRank','signInStatus','__param','wechatJsapiTicket','decorate','configEntity','signInMjDrawToken','payWeChatPrivateKey','save','emailRegisterStatus','payWechatStatus','salesBaseRatio','reduce','getSensitiveConfig','设置配置信息错误！','mpay','getSignatureGiftConfig','siteRobotName','tencent','isShowAppCatIcon','queryAllConfig','configs','appMenuHeaderTips','getDiffArray','registerSendDrawMjCount','clientHomePath','queryFrontConfig','hideString','5824832mDCnFV','@nestjs/typeorm','registerBaseUrl','__decorate','mjUseBaiduFy','./config.entity','findOne','mjHideNotBlock','NINEAI','5607160tAwCEA','获取微信access_token失败、错误信息：','auth','NAMESPACE','payEpayStatus','615570gGqBAM','ModelsService','globalConfigs','561UtsACl','pay','Key','2410344qtbIdW','get','domain','Repository','parse','signInModel3Count','Status','payWeChatPublicKey','debug','chatGptKey','请按要求填写正确的授权信息','initGetAllConfig','error:\x20','wechatSilentLoginStatus','https://api.jiangly.com/api/permission/auth','&type=jsapi','隐私内容、非超级管理员无权查看','aliPhoneTemplateCode','onModuleInit','payEpayApiPayUrl','design:paramtypes'];_0xf99f=function(){return _0x272c21;};return _0xf99f();}