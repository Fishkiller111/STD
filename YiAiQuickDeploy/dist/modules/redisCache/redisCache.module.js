'use strict';const _0xef097f=_0x55a8;function _0x1887(){const _0x1564d9=['__decorate','3mVBPcj','RedistCacheModule','7oEMMdC','ConfigModule','Your\x20Redis\x20connection\x20failed\x20|\x20您的\x20Redist\x20连接失败','decorate','Global','RedisCacheModule','11AANIFc','debug','6878505lZfjNx','13411590jAOzCv','Module','Logger','Your\x20Redis\x20connection\x20successful','redis','REDIS_PORT','defineProperty','error','getOwnPropertyDescriptor','6856734jokncm','connect','REDIS_PASSWORD','88cCOfVA','REDIS_CLIENT','nestjs-config','2FQfZld','__esModule','@nestjs/common','function','./redisCache.controller','createClient','22430088OYMEXK','966159zeRrZt','Please\x20config\x20Redis\x20config\x20|\x20未配置\x20Redis\x20配置信息\x20请确认配置redis服务以获得更好的体验','485159cWkIbI','length','1969496smgxBd','env'];_0x1887=function(){return _0x1564d9;};return _0x1887();}(function(_0x3c2f82,_0x26d58e){const _0x5f1464=_0x55a8,_0x1428cb=_0x3c2f82();while(!![]){try{const _0x51adeb=parseInt(_0x5f1464(0x159))/0x1*(-parseInt(_0x5f1464(0x150))/0x2)+-parseInt(_0x5f1464(0x15e))/0x3*(parseInt(_0x5f1464(0x15b))/0x4)+-parseInt(_0x5f1464(0x168))/0x5+-parseInt(_0x5f1464(0x172))/0x6*(parseInt(_0x5f1464(0x160))/0x7)+parseInt(_0x5f1464(0x14d))/0x8*(parseInt(_0x5f1464(0x157))/0x9)+parseInt(_0x5f1464(0x169))/0xa*(parseInt(_0x5f1464(0x166))/0xb)+parseInt(_0x5f1464(0x156))/0xc;if(_0x51adeb===_0x26d58e)break;else _0x1428cb['push'](_0x1428cb['shift']());}catch(_0x1a76f6){_0x1428cb['push'](_0x1428cb['shift']());}}}(_0x1887,0xda8c3));function _0x55a8(_0x267ccf,_0x8d3081){const _0x188723=_0x1887();return _0x55a8=function(_0x55a89a,_0x15851d){_0x55a89a=_0x55a89a-0x14d;let _0x5c9e6d=_0x188723[_0x55a89a];return _0x5c9e6d;},_0x55a8(_0x267ccf,_0x8d3081);}var __decorate=this&&this[_0xef097f(0x15d)]||function(_0x118bc2,_0x4efca7,_0x370b90,_0x27fa48){const _0x3d8ad6=_0xef097f;var _0x10c4ed=arguments[_0x3d8ad6(0x15a)],_0x3e0fc5=_0x10c4ed<0x3?_0x4efca7:_0x27fa48===null?_0x27fa48=Object[_0x3d8ad6(0x171)](_0x4efca7,_0x370b90):_0x27fa48,_0x43cba7;if(typeof Reflect==='object'&&typeof Reflect[_0x3d8ad6(0x163)]===_0x3d8ad6(0x153))_0x3e0fc5=Reflect[_0x3d8ad6(0x163)](_0x118bc2,_0x4efca7,_0x370b90,_0x27fa48);else{for(var _0x51456b=_0x118bc2[_0x3d8ad6(0x15a)]-0x1;_0x51456b>=0x0;_0x51456b--)if(_0x43cba7=_0x118bc2[_0x51456b])_0x3e0fc5=(_0x10c4ed<0x3?_0x43cba7(_0x3e0fc5):_0x10c4ed>0x3?_0x43cba7(_0x4efca7,_0x370b90,_0x3e0fc5):_0x43cba7(_0x4efca7,_0x370b90))||_0x3e0fc5;}return _0x10c4ed>0x3&&_0x3e0fc5&&Object['defineProperty'](_0x4efca7,_0x370b90,_0x3e0fc5),_0x3e0fc5;};Object[_0xef097f(0x16f)](exports,_0xef097f(0x151),{'value':!![]}),exports[_0xef097f(0x165)]=void 0x0;const common_1=require(_0xef097f(0x152)),redisCache_service_1=require('./redisCache.service'),redisCache_controller_1=require(_0xef097f(0x154)),nestjs_config_1=require(_0xef097f(0x14f)),redis_1=require(_0xef097f(0x16d));let RedisCacheModule=class RedisCacheModule{};RedisCacheModule=__decorate([(0x0,common_1[_0xef097f(0x164)])(),(0x0,common_1[_0xef097f(0x16a)])({'imports':[nestjs_config_1[_0xef097f(0x161)]],'controllers':[redisCache_controller_1['RedisCacheController']],'providers':[{'provide':'REDIS_CLIENT','useFactory':async _0x228791=>{const _0x37df16=_0xef097f,_0x52fc94=+process[_0x37df16(0x15c)][_0x37df16(0x16e)],_0x365390=process[_0x37df16(0x15c)]['REDIS_HOST'],_0x3cb599=process['env'][_0x37df16(0x174)],_0x1b0c3a=process['env']['REDIS_USER'];if(!_0x365390||!_0x52fc94){common_1[_0x37df16(0x16b)][_0x37df16(0x170)](_0x37df16(0x158),_0x37df16(0x15f));return;}const _0x344503=(0x0,redis_1[_0x37df16(0x155)])({'socket':{'host':_0x365390,'port':_0x52fc94},'username':_0x1b0c3a,'password':_0x3cb599}),_0x306931=await _0x344503[_0x37df16(0x173)]();return _0x344503['on']('ready',()=>{const _0x59dc37=_0x37df16;common_1[_0x59dc37(0x16b)][_0x59dc37(0x167)](_0x59dc37(0x16c),_0x59dc37(0x15f));}),_0x344503['on'](_0x37df16(0x170),()=>{const _0x103e4e=_0x37df16;common_1[_0x103e4e(0x16b)][_0x103e4e(0x170)](_0x103e4e(0x162),_0x103e4e(0x15f));}),_0x344503;},'inject':[nestjs_config_1['ConfigService']]},redisCache_service_1['RedisCacheService']],'exports':[_0xef097f(0x14e)]})],RedisCacheModule),exports['RedisCacheModule']=RedisCacheModule;