'use strict';const _0xa28f33=_0x3fb8;function _0xb315(){const _0x4453d1=['username','HttpStatus','新秀分销商','inviterUsername','inviteeAvatar','创建提现工单失败','__param','__metadata','修改失败','salesBaseTitle','save','salesUsersEntity','getConfigs','minus','updateUserSales','用户不存在','affected','salesAllowDrawMoney','includes','decimal.js','审核状态错误','update','withdrawalChannels','userId','auditUserName','metadata','length','log','Repository','error:\x20','SalesUsersEntity','GlobalConfigService','审核完成','__esModule','performanceRatio','creaetUserBaseSalesInfo','审核失败','salesOrderEntity','105YDmmSR','auditOrder','userInfo','auditUserId','inviterEmail','formatCreateOrUpdateDate','push','createOrder','globalConfigService','BAD_REQUEST','getMineRecords','SalesOrderEntity','inviteeEmail','inviterUserId','avatar','9229491TtGfnI','salesBaseRatio','提现金额不足','find','DESC','../globalConfig/globalConfig.service','defineProperty','@nestjs/typeorm','inviterAvatar','hideString','SalesRecordsEntity','super','77956YySGQp','findOne','forEach','提现金额必须为数字且大于0','inviteRecords','user','toNumber','userEntity','withdrawalAmount','decorate','372099zwLlZs','../user/user.entity','salesOutletName','role','salesUserList','orderStatus','getOwnPropertyDescriptor','count','__decorate','email','assign','default','128406mTFAQH','../../common/utils','./salesUsers.entity','HttpException','findAndCount','InjectRepository','@nestjs/common','./salesRecords.entity','145gHUzqd','salesRecordsEntity','map','inviteeUserId','xxxxxxx','5559152lDctZb','object','SalesService','159642LtUOBn','drawMoneyOrder','1078852KBeXKq','plus'];_0xb315=function(){return _0x4453d1;};return _0xb315();}(function(_0xaa558d,_0x527324){const _0x19068f=_0x3fb8,_0x149d83=_0xaa558d();while(!![]){try{const _0x17cdfc=parseInt(_0x19068f(0x22c))/0x1+parseInt(_0x19068f(0x22e))/0x2+-parseInt(_0x19068f(0x1eb))/0x3*(parseInt(_0x19068f(0x206))/0x4)+parseInt(_0x19068f(0x224))/0x5*(parseInt(_0x19068f(0x21c))/0x6)+parseInt(_0x19068f(0x210))/0x7+parseInt(_0x19068f(0x229))/0x8+-parseInt(_0x19068f(0x1fa))/0x9;if(_0x17cdfc===_0x527324)break;else _0x149d83['push'](_0x149d83['shift']());}catch(_0x54c54a){_0x149d83['push'](_0x149d83['shift']());}}}(_0xb315,0x57ec6));var __decorate=this&&this[_0xa28f33(0x218)]||function(_0x325d8d,_0x1e49ad,_0x4e3435,_0x1c386a){const _0x293fa9=_0xa28f33;var _0x113ec3=arguments[_0x293fa9(0x1df)],_0x454f62=_0x113ec3<0x3?_0x1e49ad:_0x1c386a===null?_0x1c386a=Object[_0x293fa9(0x216)](_0x1e49ad,_0x4e3435):_0x1c386a,_0x4f1a82;if(typeof Reflect===_0x293fa9(0x22a)&&typeof Reflect[_0x293fa9(0x20f)]==='function')_0x454f62=Reflect[_0x293fa9(0x20f)](_0x325d8d,_0x1e49ad,_0x4e3435,_0x1c386a);else{for(var _0x2bc3d2=_0x325d8d['length']-0x1;_0x2bc3d2>=0x0;_0x2bc3d2--)if(_0x4f1a82=_0x325d8d[_0x2bc3d2])_0x454f62=(_0x113ec3<0x3?_0x4f1a82(_0x454f62):_0x113ec3>0x3?_0x4f1a82(_0x1e49ad,_0x4e3435,_0x454f62):_0x4f1a82(_0x1e49ad,_0x4e3435))||_0x454f62;}return _0x113ec3>0x3&&_0x454f62&&Object[_0x293fa9(0x200)](_0x1e49ad,_0x4e3435,_0x454f62),_0x454f62;},__metadata=this&&this[_0xa28f33(0x237)]||function(_0x35f5d1,_0x148f53){const _0x80d346=_0xa28f33;if(typeof Reflect==='object'&&typeof Reflect[_0x80d346(0x1de)]==='function')return Reflect[_0x80d346(0x1de)](_0x35f5d1,_0x148f53);},__param=this&&this[_0xa28f33(0x236)]||function(_0x33cc3b,_0x4763aa){return function(_0x550e9a,_0x24e242){_0x4763aa(_0x550e9a,_0x24e242,_0x33cc3b);};};function _0x3fb8(_0x3d8619,_0x3923f4){const _0xb31588=_0xb315();return _0x3fb8=function(_0x3fb828,_0x51af3b){_0x3fb828=_0x3fb828-0x1de;let _0x3e056f=_0xb31588[_0x3fb828];return _0x3e056f;},_0x3fb8(_0x3d8619,_0x3923f4);}Object[_0xa28f33(0x200)](exports,_0xa28f33(0x1e6),{'value':!![]}),exports[_0xa28f33(0x22b)]=void 0x0;const globalConfig_service_1=require(_0xa28f33(0x1ff)),common_1=require(_0xa28f33(0x222)),salesUsers_entity_1=require(_0xa28f33(0x21e)),typeorm_1=require(_0xa28f33(0x201)),typeorm_2=require('typeorm'),salesRecords_entity_1=require(_0xa28f33(0x223)),utils_1=require(_0xa28f33(0x21d)),user_entity_1=require(_0xa28f33(0x211)),decimal_js_1=require(_0xa28f33(0x243)),salesOrder_entity_1=require('./salesOrder.entity');let SalesService=class SalesService{constructor(_0x2d806b,_0x68a0c6,_0xfac938,_0x592b98,_0x1eb517){const _0x306c4d=_0xa28f33;this[_0x306c4d(0x23b)]=_0x2d806b,this[_0x306c4d(0x225)]=_0x68a0c6,this[_0x306c4d(0x20d)]=_0xfac938,this[_0x306c4d(0x1ea)]=_0x592b98,this[_0x306c4d(0x1f3)]=_0x1eb517;}async['getMineAccount'](_0x2440e7){const _0x5706b7=_0xa28f33;try{const {id:_0x308217}=_0x2440e7[_0x5706b7(0x20b)];let _0x4574b7=await this[_0x5706b7(0x23b)][_0x5706b7(0x207)]({'where':{'userId':_0x308217}});if(!_0x4574b7){const {salesBaseRatio:salesBaseRatio=0xa,salesBaseTitle:salesBaseTitle=_0x5706b7(0x232)}=await this[_0x5706b7(0x1f3)][_0x5706b7(0x23c)]([_0x5706b7(0x1fb),_0x5706b7(0x239)]);_0x4574b7=await this[_0x5706b7(0x1e8)]({'userId':_0x308217,'performanceRatio':Number(salesBaseRatio),'salesOutletName':salesBaseTitle});}const _0x3efee6=(0x0,utils_1['formatCreateOrUpdateDate'])(_0x4574b7),_0x3fa2ee=await this[_0x5706b7(0x225)][_0x5706b7(0x217)]({'where':{'inviterUserId':_0x308217}}),_0x9b78d=await this[_0x5706b7(0x20d)][_0x5706b7(0x207)]({'where':{'id':_0x308217}})||{'inviteLinkCount':0x0,'inviteCode':_0x5706b7(0x228)},{inviteLinkCount:_0x54d3db,inviteCode:_0x590741}=_0x9b78d,_0x3acd69=await this[_0x5706b7(0x20d)][_0x5706b7(0x217)]({'where':{'invitedBy':_0x590741}});return Object[_0x5706b7(0x21a)](Object['assign']({},_0x3efee6),{'orderCount':_0x3fa2ee,'inviteCount':_0x3acd69,'inviteLinkCount':_0x54d3db});}catch(_0x193f43){console[_0x5706b7(0x1e0)](_0x5706b7(0x1e2),_0x193f43);}}async[_0xa28f33(0x1f5)](_0x42ff66,_0x26cd04){const _0xefc9b7=_0xa28f33;try{const {id:_0x397317}=_0x42ff66[_0xefc9b7(0x20b)],{page:_0x14d7ea,size:_0x8465af}=_0x26cd04,[_0x549077,_0x437993]=await this[_0xefc9b7(0x225)][_0xefc9b7(0x220)]({'where':{'inviterUserId':_0x397317},'order':{'createdAt':_0xefc9b7(0x1fe)},'skip':(_0x14d7ea-0x1)*_0x8465af,'take':_0x8465af});return{'rows':(0x0,utils_1[_0xefc9b7(0x1f0)])(_0x549077),'count':_0x437993};}catch(_0x992f03){console['log'](_0xefc9b7(0x1e2),_0x992f03);}}async[_0xa28f33(0x20a)](_0x390b02,_0x89a255){const _0x79721=_0xa28f33;try{const {page:_0xdc8feb,size:_0x2c9196,orderId:_0x27e6d0,orderPrice:_0x27d630}=_0x89a255;let _0x322988={};_0x27e6d0&&(_0x322988={'orderId':_0x27e6d0}),_0x27d630&&(_0x322988={'orderPrice':_0x27d630});const [_0x1bfdc0,_0x267b4f]=await this[_0x79721(0x225)][_0x79721(0x220)]({'where':_0x322988,'order':{'createdAt':_0x79721(0x1fe)},'skip':(_0xdc8feb-0x1)*_0x2c9196,'take':_0x2c9196}),_0x399b2e=[];_0x1bfdc0[_0x79721(0x226)](_0x2109b0=>{const _0x5e6d6b=_0x79721;_0x399b2e[_0x5e6d6b(0x1f1)](_0x2109b0[_0x5e6d6b(0x1f8)]),_0x399b2e[_0x5e6d6b(0x1f1)](_0x2109b0[_0x5e6d6b(0x227)]);});const _0x2cd3c7=await this[_0x79721(0x20d)][_0x79721(0x1fd)]({'where':{'id':(0x0,typeorm_2['In'])(_0x399b2e)}});return _0x1bfdc0[_0x79721(0x208)](_0x3edc0f=>{const _0x4814bb=_0x79721,_0x5b8c09=_0x2cd3c7[_0x4814bb(0x1fd)](_0x33e9a6=>_0x33e9a6['id']===_0x3edc0f[_0x4814bb(0x1f8)]),_0x348873=_0x2cd3c7['find'](_0xd81274=>_0xd81274['id']===_0x3edc0f['inviteeUserId']),{username:_0x19c85e,email:_0x472f4e,avatar:_0x5b1741}=_0x2cd3c7[_0x4814bb(0x1fd)](_0x515586=>_0x515586['id']===_0x3edc0f['inviterUserId']);_0x3edc0f[_0x4814bb(0x233)]=_0x5b8c09===null||_0x5b8c09===void 0x0?void 0x0:_0x5b8c09['username'],_0x3edc0f['inviterEmail']=_0x5b8c09===null||_0x5b8c09===void 0x0?void 0x0:_0x5b8c09[_0x4814bb(0x219)],_0x3edc0f[_0x4814bb(0x202)]=_0x5b8c09===null||_0x5b8c09===void 0x0?void 0x0:_0x5b8c09[_0x4814bb(0x1f9)],_0x3edc0f['inviteeUsername']=_0x348873===null||_0x348873===void 0x0?void 0x0:_0x348873[_0x4814bb(0x230)],_0x3edc0f[_0x4814bb(0x1f7)]=_0x348873===null||_0x348873===void 0x0?void 0x0:_0x348873[_0x4814bb(0x219)],_0x3edc0f[_0x4814bb(0x234)]=_0x348873===null||_0x348873===void 0x0?void 0x0:_0x348873[_0x4814bb(0x1f9)];}),_0x390b02[_0x79721(0x20b)][_0x79721(0x213)]!==_0x79721(0x205)&&_0x1bfdc0[_0x79721(0x208)](_0x5ccd9a=>{const _0x5c2d46=_0x79721;_0x5ccd9a[_0x5c2d46(0x1ef)]=_0x5ccd9a[_0x5c2d46(0x1ef)]?(0x0,utils_1[_0x5c2d46(0x203)])(_0x5ccd9a[_0x5c2d46(0x1ef)]):'',_0x5ccd9a[_0x5c2d46(0x1f7)]=_0x5ccd9a[_0x5c2d46(0x1f7)]?(0x0,utils_1[_0x5c2d46(0x203)])(_0x5ccd9a['inviteeEmail']):'';}),{'rows':(0x0,utils_1[_0x79721(0x1f0)])(_0x1bfdc0),'count':_0x267b4f};}catch(_0x2bebca){console[_0x79721(0x1e0)](_0x79721(0x1e2),_0x2bebca);}}async[_0xa28f33(0x1e8)](_0x165d77){const {userId:_0x5e5ff4,performanceRatio:_0x278bb1,salesOutletName:_0x185265}=_0x165d77;return await this['salesUsersEntity']['save']({'userId':_0x5e5ff4,'performanceRatio':_0x278bb1,'salesOutletName':_0x185265});}async['changeUserBaseSalesInfo'](_0x2b3ec9){const _0x33163c=_0xa28f33;return await this[_0x33163c(0x23b)]['save'](_0x2b3ec9);}async['createSalesRecords'](_0x3b2dd3){const _0x10b5d7=_0xa28f33;return await this[_0x10b5d7(0x225)][_0x10b5d7(0x23a)](_0x3b2dd3);}async['saveCommissionAmount'](_0x5cc4ae,_0x114eeb){const _0x9dfc71=_0xa28f33,_0x4d48db=await this[_0x9dfc71(0x23b)][_0x9dfc71(0x207)]({'where':{'userId':_0x5cc4ae}});if(!_0x4d48db)return;const {totalAmount:_0x576ce5,distributionBalance:_0x534dc4}=_0x4d48db;return console[_0x9dfc71(0x1e0)]('totalAmount,\x20distributionBalance:\x20',_0x576ce5,_0x534dc4),await this[_0x9dfc71(0x23b)][_0x9dfc71(0x245)]({'userId':_0x5cc4ae},{'totalAmount':new decimal_js_1[(_0x9dfc71(0x21b))](_0x576ce5)[_0x9dfc71(0x22f)](_0x114eeb)[_0x9dfc71(0x20c)](),'distributionBalance':new decimal_js_1[(_0x9dfc71(0x21b))](_0x534dc4)[_0x9dfc71(0x22f)](_0x114eeb)[_0x9dfc71(0x20c)]()});}async['appForMoney'](_0x46ed14,_0x37d8a2){const _0x39bd79=_0xa28f33,{id:_0x2eec18}=_0x46ed14['user'],{withdrawalAmount:_0x4da8ee,withdrawalChannels:_0x350494,contactInformation:_0x264471,remark:_0x5c0c27}=_0x37d8a2,_0x44a750=await this[_0x39bd79(0x1f3)]['getConfigs']([_0x39bd79(0x241)])||0xa;if(typeof _0x4da8ee!=='number'||_0x4da8ee<=0x0)throw new common_1[(_0x39bd79(0x21f))](_0x39bd79(0x209),common_1[_0x39bd79(0x231)][_0x39bd79(0x1f4)]);if(Number(_0x4da8ee)<Number(_0x44a750))throw new common_1[(_0x39bd79(0x21f))]('提现金额最低必须为'+_0x44a750+'元',common_1[_0x39bd79(0x231)]['BAD_REQUEST']);const _0x334521=await this[_0x39bd79(0x23b)][_0x39bd79(0x207)]({'where':{'userId':_0x2eec18}}),{distributionBalance:_0x22cbc2,drawMoneyIn:_0x473bb0}=_0x334521;if(Number(_0x22cbc2)<Number(_0x4da8ee))throw new common_1[(_0x39bd79(0x21f))](_0x39bd79(0x1fc),common_1[_0x39bd79(0x231)][_0x39bd79(0x1f4)]);const _0x252ff6=new decimal_js_1[(_0x39bd79(0x21b))](_0x22cbc2)[_0x39bd79(0x23d)](_0x4da8ee)[_0x39bd79(0x20c)](),_0x4f0cb5={'userId':_0x2eec18,'withdrawalAmount':_0x4da8ee,'orderStatus':0x0,'auditStatus':0x0,'withdrawalChannels':_0x350494,'contactInformation':_0x264471,'remark':_0x5c0c27};await this[_0x39bd79(0x1f2)](_0x4f0cb5);const _0xd1d90a=await this[_0x39bd79(0x23b)][_0x39bd79(0x245)]({'userId':_0x2eec18},{'distributionBalance':_0x252ff6,'drawMoneyIn':new decimal_js_1[(_0x39bd79(0x21b))](_0x473bb0)[_0x39bd79(0x22f)](_0x4da8ee)[_0x39bd79(0x20c)]()});}async[_0xa28f33(0x22d)](_0x20744f,_0x13a50f){const _0x3f6265=_0xa28f33,{id:_0x3aa36c}=_0x20744f[_0x3f6265(0x20b)],{page:_0x456d06,size:_0x3659f6}=_0x13a50f,[_0x418dd3,_0x1862e1]=await this[_0x3f6265(0x1ea)][_0x3f6265(0x220)]({'where':{'userId':_0x3aa36c},'order':{'createdAt':_0x3f6265(0x1fe)},'skip':(_0x456d06-0x1)*_0x3659f6,'take':_0x3659f6}),_0x2a659a=_0x418dd3[_0x3f6265(0x226)](_0x15f554=>_0x15f554[_0x3f6265(0x1ee)]),_0x1bc001=await this[_0x3f6265(0x20d)][_0x3f6265(0x1fd)]({'where':{'id':(0x0,typeorm_2['In'])(_0x2a659a)}});return _0x418dd3[_0x3f6265(0x208)](_0x51e0a0=>{const _0x35e7a9=_0x3f6265,_0x375816=_0x1bc001['find'](_0x568fc6=>_0x568fc6['id']===_0x51e0a0[_0x35e7a9(0x1ee)]);_0x51e0a0[_0x35e7a9(0x248)]=_0x375816?_0x375816[_0x35e7a9(0x230)]:'';}),{'rows':(0x0,utils_1[_0x3f6265(0x1f0)])(_0x418dd3),'count':_0x1862e1};}async['salesOrder'](_0x496d9c,_0x1417f1){const _0x3aadfa=_0xa28f33,{page:_0x1f8ea1,size:_0x55eb14}=_0x1417f1,_0x59f207={};_0x1417f1['orderStatus']!==undefined&&_0x1417f1[_0x3aadfa(0x215)]!==''&&(_0x59f207[_0x3aadfa(0x215)]=_0x1417f1['orderStatus']),_0x1417f1[_0x3aadfa(0x246)]&&(_0x59f207['withdrawalChannels']=_0x1417f1[_0x3aadfa(0x246)]);const [_0x565b11,_0x597560]=await this[_0x3aadfa(0x1ea)]['findAndCount']({'where':_0x59f207,'order':{'createdAt':_0x3aadfa(0x1fe)},'skip':(_0x1f8ea1-0x1)*_0x55eb14,'take':_0x55eb14}),_0x38d40f=_0x565b11['map'](_0x44972c=>_0x44972c[_0x3aadfa(0x247)]),_0x3bba72=await this[_0x3aadfa(0x20d)]['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x38d40f)}});return _0x565b11[_0x3aadfa(0x208)](_0x29c4dc=>{const _0x4f359d=_0x3aadfa,_0x23a6d6=_0x3bba72['find'](_0x46c863=>_0x46c863['id']===_0x29c4dc[_0x4f359d(0x247)]);if(_0x23a6d6){const {username:_0x11ef1c,email:_0x191f86,avatar:_0x35e792}=_0x23a6d6;_0x29c4dc['userInfo']={'username':_0x11ef1c,'avatar':_0x35e792,'email':(0x0,utils_1[_0x4f359d(0x203)])(_0x191f86)};}}),{'rows':(0x0,utils_1[_0x3aadfa(0x1f0)])(_0x565b11),'count':_0x597560};}async['createOrder'](_0x50f460){const _0x1dd209=_0xa28f33;try{return await this['salesOrderEntity']['save'](_0x50f460);}catch(_0x2d9231){console['log'](_0x1dd209(0x1e2),_0x2d9231);throw new common_1['HttpException'](_0x1dd209(0x235),common_1['HttpStatus'][_0x1dd209(0x1f4)]);}}async[_0xa28f33(0x1ec)](_0x157a01,_0x2436cc){const _0x3cd1de=_0xa28f33;try{const {id:_0x18895a}=_0x157a01['user'],{id:_0x3b3717,status:_0x1960b9}=_0x2436cc;if(![0x1,-0x1][_0x3cd1de(0x242)](_0x1960b9))throw new common_1[(_0x3cd1de(0x21f))](_0x3cd1de(0x244),common_1[_0x3cd1de(0x231)][_0x3cd1de(0x1f4)]);const _0x37c5bc=await this[_0x3cd1de(0x1ea)][_0x3cd1de(0x207)]({'where':{'id':_0x3b3717}});if(_0x37c5bc[_0x3cd1de(0x215)]!==0x0)throw new common_1['HttpException']('该工单已审核过',common_1[_0x3cd1de(0x231)][_0x3cd1de(0x1f4)]);const _0x3e0277=await this['salesUsersEntity'][_0x3cd1de(0x207)]({'where':{'userId':_0x37c5bc[_0x3cd1de(0x247)]}}),{withdrawalAmount:_0xac2061,drawMoneyIn:_0x856ec}=_0x3e0277,_0x18c237=new decimal_js_1[(_0x3cd1de(0x21b))](_0xac2061)[_0x3cd1de(0x22f)](_0x37c5bc[_0x3cd1de(0x20e)])[_0x3cd1de(0x20c)](),_0x71165a=new decimal_js_1[(_0x3cd1de(0x21b))](_0x856ec)[_0x3cd1de(0x23d)](_0x37c5bc['withdrawalAmount'])['toNumber']();return await this[_0x3cd1de(0x23b)][_0x3cd1de(0x245)]({'userId':_0x37c5bc[_0x3cd1de(0x247)]},{'withdrawalAmount':_0x18c237,'drawMoneyIn':_0x71165a}),await this[_0x3cd1de(0x1ea)][_0x3cd1de(0x245)]({'id':_0x3b3717},{'orderStatus':_0x1960b9,'auditStatus':_0x1960b9,'auditUserId':_0x18895a,'paymentStatus':_0x1960b9}),_0x3cd1de(0x1e5);}catch(_0x5310c0){console[_0x3cd1de(0x1e0)]('error:\x20',_0x5310c0);throw new common_1['HttpException'](_0x3cd1de(0x1e9),common_1[_0x3cd1de(0x231)]['BAD_REQUEST']);}}async[_0xa28f33(0x214)](_0x4072a4,_0x5ea432){const _0x13a7d9=_0xa28f33,{page:_0x1745cf,size:_0x24a09f,salesOutletName:_0x5b7813,performanceRatio:_0x4af3b1}=_0x5ea432,_0x2f99ba={};_0x5b7813&&(_0x2f99ba[_0x13a7d9(0x212)]=(0x0,typeorm_2['Like'])('%'+_0x5b7813+'%')),_0x4af3b1&&(_0x2f99ba[_0x13a7d9(0x1e7)]=_0x4af3b1);const [_0x16b863,_0x5265ca]=await this[_0x13a7d9(0x23b)][_0x13a7d9(0x220)]({'where':_0x2f99ba,'order':{'id':_0x13a7d9(0x1fe)},'skip':(_0x1745cf-0x1)*_0x24a09f,'take':_0x24a09f}),_0x452841=_0x16b863[_0x13a7d9(0x226)](_0x3b2993=>_0x3b2993[_0x13a7d9(0x247)]),_0x2a4ee4=await this['userEntity'][_0x13a7d9(0x1fd)]({'where':{'id':(0x0,typeorm_2['In'])(_0x452841)}});return _0x16b863['forEach'](_0x3f23b2=>{const _0x4d9929=_0x13a7d9,_0x4a644d=_0x2a4ee4[_0x4d9929(0x1fd)](_0x467e81=>_0x467e81['id']===_0x3f23b2['userId']);_0x3f23b2[_0x4d9929(0x1ed)]=_0x4a644d?_0x4a644d:{};}),_0x4072a4[_0x13a7d9(0x20b)][_0x13a7d9(0x213)]!==_0x13a7d9(0x205)&&_0x16b863['forEach'](_0x53f9b0=>{const _0x17ef2c=_0x13a7d9;var _0x188c1f,_0x3b4f49;_0x53f9b0[_0x17ef2c(0x1ed)][_0x17ef2c(0x219)]=((_0x188c1f=_0x53f9b0[_0x17ef2c(0x1ed)])===null||_0x188c1f===void 0x0?void 0x0:_0x188c1f[_0x17ef2c(0x219)])?(0x0,utils_1[_0x17ef2c(0x203)])((_0x3b4f49=_0x53f9b0[_0x17ef2c(0x1ed)])===null||_0x3b4f49===void 0x0?void 0x0:_0x3b4f49[_0x17ef2c(0x219)]):'';}),{'rows':_0x16b863,'count':_0x5265ca};}async[_0xa28f33(0x23e)](_0xf4eaf1,_0x3b2f2e){const _0x25890c=_0xa28f33,{performanceRatio:_0x49fc73,salesOutletName:_0x339804,userId:_0x1d1b42}=_0x3b2f2e,_0x5b5a08=await this[_0x25890c(0x23b)][_0x25890c(0x207)]({'where':{'userId':_0x1d1b42}});if(!_0x5b5a08)throw new common_1[(_0x25890c(0x21f))](_0x25890c(0x23f),common_1[_0x25890c(0x231)][_0x25890c(0x1f4)]);const _0xb24971=await this[_0x25890c(0x23b)]['update']({'userId':_0x1d1b42},{'performanceRatio':_0x49fc73,'salesOutletName':_0x339804});if(_0xb24971[_0x25890c(0x240)]>0x0)return'修改成功';else throw new common_1[(_0x25890c(0x21f))](_0x25890c(0x238),common_1[_0x25890c(0x231)][_0x25890c(0x1f4)]);}};SalesService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0xa28f33(0x221)])(salesUsers_entity_1[_0xa28f33(0x1e3)])),__param(0x1,(0x0,typeorm_1[_0xa28f33(0x221)])(salesRecords_entity_1[_0xa28f33(0x204)])),__param(0x2,(0x0,typeorm_1[_0xa28f33(0x221)])(user_entity_1['UserEntity'])),__param(0x3,(0x0,typeorm_1[_0xa28f33(0x221)])(salesOrder_entity_1[_0xa28f33(0x1f6)])),__metadata('design:paramtypes',[typeorm_2['Repository'],typeorm_2['Repository'],typeorm_2[_0xa28f33(0x1e1)],typeorm_2[_0xa28f33(0x1e1)],globalConfig_service_1[_0xa28f33(0x1e4)]])],SalesService),exports[_0xa28f33(0x22b)]=SalesService;